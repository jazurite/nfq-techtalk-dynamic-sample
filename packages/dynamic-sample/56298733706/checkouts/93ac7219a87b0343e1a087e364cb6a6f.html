<!doctype html>
<html lang="en-CA" dir="ltr" class="no-js windows chrome desktop page--no-banner page--logo-main page--show page--show card-fields">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, user-scalable=0"
    >
    <meta name="referrer" content="origin">

    
      <link rel="shortcut icon" href="//emma-sleep.ca/cdn/shop/files/MicrosoftTeams-image_3_32x32.png?v=1643278172" type="image/png">
    

    <title>    Information - Emma® Canada - Checkout</title>

      <meta data-browser="chrome" data-browser-major="117">
<meta data-body-font-family="Helvetica Neue" data-body-font-type="system">
  <link href="/private_access_tokens?id=93ac7219a87b0343e1a087e364cb6a6f" rel="stylesheet">

    <meta id="shopify-digital-wallet" name="shopify-digital-wallet" content="/56298733706/digital_wallets/dialog">

<meta name="shopify-checkout-api-token" content="ce4ca916137cfac3e3affac0f0855d91">

  <meta name="shopify-checkout-authorization-token" content="603a734223f3f1d29a145183405a2516" />

<meta id="shopify-regional-checkout-config" name="shopify-regional-checkout-config" content="{&quot;bugsnag&quot;:{&quot;checkoutJSApiKey&quot;:&quot;717bcb19cf4dd1ab6465afcec8a8de02&quot;,&quot;endpoint&quot;:&quot;https:\/\/notify.bugsnag.com&quot;}}" />
<meta id="autocomplete-service-sandbox-url" name="autocomplete-service-sandbox-url" content="https://checkout.shopify.com/56298733706/sandbox/autocomplete_service?locale=en-CA" />
<meta property="og:title" content="Purchase Sleep Essential Bundle" />
<meta property="og:image" content="https://cdn.shopify.com/s/files/1/0562/9873/3706/files/EmmaCA-ThanksgivingBundle-02_1024x1024.jpg?v=1695398172" />



      
  
<!--[if lt IE 9]>
<link rel="stylesheet" media="all" href="//cdn.shopify.com/app/services/56298733706/assets/124363800714/checkout_stylesheet/v2-ltr-2021-01-25-48454c902a881a86ab0888dfaf2424bd-100299/oldie" />
<![endif]-->

<!--[if gte IE 9]><!-->
  <link rel="stylesheet" href="//cdn.shopify.com/app/services/56298733706/assets/124363800714/checkout_stylesheet/v2-ltr-2021-01-25-48454c902a881a86ab0888dfaf2424bd-100299" media="all" />

<!--<![endif]-->






        <script type="text/javascript">
  Shopify = window.Shopify || {};
  ShopifyExperiments = window.ShopifyExperiments || {};
  ShopifyPay = window.ShopifyPay || {};

  if (window.opener) {
    window.opener.postMessage(JSON.stringify({"current_checkout_page": "\/checkout\/contact_information"}), "*");
  }

  Shopify.Checkout = Shopify.Checkout || {};
  Shopify.Checkout.Autocomplete = true;
  Shopify.Checkout.apiHost = "emma-sleep-ca.myshopify.com";
  Shopify.Checkout.assetsPath = "\/\/cdn.shopify.com\/shopifycloud\/shopify";
  Shopify.Checkout.DefaultAddressFormat = "{country}_{firstName}{lastName}_{company}_{address1}_{address2}_{city}{province}{zip}_{phone}";
  Shopify.Checkout.geolocatedAddress = {"lat":10.832600000000014,"lng":106.65809999999999};
  Shopify.Checkout.i18n = {"orders":{"order_updates":{"title":"Order updates"},"complete_order":"Complete order","pay_now":"Pay now"},"shipping_line":{"pickup_in_store_label":"Pickup","no_pickup_location":"Pickup isn't available for this order. Choose another delivery method.","shipping_label":"Shipping","shipping_default_value":"Calculated at next step","shipping_free_value":"Free"},"continue_button":{"continue_to_shipping_method":"Continue to shipping","continue_to_payment_method":"Continue to payment"},"qr_code":{"title":"Track on your phone","subtitle":"Scan the code with your phone’s camera to track with Shop.","send_link_to_phone":"Or send a link to your phone"}};
  Shopify.Checkout.locale = "en-CA";
  Shopify.Checkout.normalizedLocale = "en";
  Shopify.Checkout.moneyFormat = "${{amount}}";
  Shopify.Checkout.page = "show";
  Shopify.Checkout.releaseStage = "production";
  Shopify.Checkout.deployStage = "production";
  Shopify.Checkout.requiresShipping = true;
  Shopify.Checkout.step = "contact_information";
  Shopify.Checkout.token = "93ac7219a87b0343e1a087e364cb6a6f";
  Shopify.Checkout.currency = "CAD";
  Shopify.Checkout.estimatedPrice = 2995.00;
  Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig = {"paymentInstruments":{"accessToken":"ce4ca916137cfac3e3affac0f0855d91","amazonPayConfig":null,"amazonPayCv2Config":null,"applePayConfig":{"shopId":56298733706,"countryCode":"CA","currencyCode":"CAD","merchantCapabilities":["supports3DS"],"merchantId":"gid:\/\/shopify\/Shop\/56298733706","merchantName":"Emma® Canada","requiredBillingContactFields":["postalAddress","email","phone"],"requiredShippingContactFields":["postalAddress","email","phone"],"shippingType":"shipping","supportedNetworks":["visa","masterCard","amex","discover","interac","jcb"],"total":{"type":"pending","label":"Emma® Canada","amount":"1.00"},"shopifyPaymentsEnabled":true,"supportsSubscriptions":true,"walletAuthenticationToken":"eyJ0eXBlIjoiSldUIiwiYWxnIjoiSFMzODQifQ.eyJjaGVja291dF90b2tlbiI6IjkzYWM3MjE5YTg3YjAzNDNlMWEwODdlMzY0Y2I2YTZmIiwib3JkZXJfdHlwZV9pZCI6Im9yZGVyLmNvbS5zaG9waWZ5LnNob3AiLCJpc3MiOiJzaG9waWZ5IiwiaWF0IjoxNjk2MDQ2MzMwLCJleHAiOjE3MTE1OTgzMzB9.nrNeJw_PFsPEpvgrcOk8woYvY6dnutNWE1OzAECUw0TgPyRxNhs9tmsnqpg3-JOL","walletServiceUrl":"https:\/\/wallet-order-service.shopifyapps.com","walletOrderTypeIdentifier":"order.com.shopify.shop"},"checkoutConfig":{"domain":"emma-sleep.ca","shopId":56298733706},"shopifyPayConfig":{"domain":"emma-sleep.ca","shopId":56298733706,"accelerated":false,"supportsLogin":true,"experimentTestGroup":false,"experimentGroup":"","merchantId":"gid:\/\/shopify\/Shop\/56298733706","supportsSubscriptions":true,"forceCheckoutOneExperience":false,"applePayUsed":false,"isPromiseEligible":false},"currency":"CAD","googlePayConfig":{"dynamicBuyFlow":true,"iframeSrc":"https:\/\/checkout.shopify.com\/56298733706\/sandbox\/costanza_google_pay_iframe","currency":"CAD","countryCode":"CA","capabilities":{"environment":"PRODUCTION","allowedPaymentMethods":[{"type":"CARD","parameters":{"allowedAuthMethods":["PAN_ONLY","CRYPTOGRAM_3DS"],"allowedCardNetworks":["VISA","MASTERCARD","AMEX","DISCOVER","JCB"],"allowPrepaidCards":false,"billingAddressRequired":true,"billingAddressParameters":{"format":"FULL","phoneNumberRequired":true}},"tokenizationSpecification":{"type":"PAYMENT_GATEWAY","parameters":{"gateway":"shopify","gatewayMerchantId":"56298733706"}}}],"existingPaymentMethodRequired":true,"merchantInfo":{"merchantId":"16708973830884969730","merchantName":"Emma® Canada","merchantOrigin":"emma-sleep.ca","authJwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiJ9.eyJtZXJjaGFudElkIjoiMTY3MDg5NzM4MzA4ODQ5Njk3MzAiLCJtZXJjaGFudE9yaWdpbiI6ImVtbWEtc2xlZXAuY2EiLCJpYXQiOjE2OTYwNDYzMzB9.K75ypbK92Wk6VA5T_o6oAIYEXZJx0JDcRoO8k1EsjG9nK74Hg0UzcQ-7RGca7qO4n7E2EL6iM7BrHH1DZqdbAg"},"emailRequired":true,"shippingAddressRequired":true,"shippingAddressParameters":{"phoneNumberRequired":true,"allowedCountryCodes":["CA"]}},"supportsSubscriptions":true},"locale":"en-CA","paypalConfig":{"domain":"emma-sleep.ca","environment":"production","merchantId":"3NKVDYPYPDWQ4","buttonVersion":"v3","venmoSupported":false,"locale":"en_US","shopId":56298733706,"supportsSubscriptions":null,"supportsDeferredPurchaseOptions":null},"offsiteConfigs":null,"supportsDiscounts":true,"supportsGiftCards":false,"checkoutDisabled":false}};
  Shopify.Checkout.applePayConfig = null;
  Shopify.Checkout.hasSellingPlan = false;
  Shopify.Checkout.customer = {};
  Shopify.Checkout.requiresConfirmationStep = false;
  Shopify.Checkout.cartToken = "a4e75e9f364894f93d46aec12e7d49ff";
  Shopify.Checkout.isCheckoutOne = true; // Default to true
  ShopifyExperiments.AutocompleteServiceApiHost = "https:\/\/atlas.shopifysvc.com";

  ShopifyPay.enabled = true;
  ShopifyPay.apiHost = "shop.app\/pay";
  ShopifyPay.apiToken = "cnR0MXY4MUZoMUJwUUNoN0RUT0IrWTh1bmlYdHM2QmErOFAxWm02TWl3ST0tLW9IUktvcVZhV1BXTEpZck1xSFRDcUE9PQ==--7fd568df24ce5d1fbb4f4ce944726cd14ff21297";
  Shopify.houseNumberNudgeCountries = ["AR","AU","AT","BE","BR","CA","CL","CO","CZ","DK","EE","FI","FR","DE","HK","HU","IL","IT","JP","LV","MY","MX","NL","NZ","PL","PT","RO","RU","SG","ZA","ES","SE","CH","TR","AE","GB","US"];
  Shopify.houseNumberMayBeInAddress2 = ["DE","IT","NL","ES"];
  Shopify.autocompleteEnabledCountries = ["AU","AT","BE","BR","CA","DK","FR","DE","HK","IN","IT","JP","LU","NL","NZ","NO","SA","SG","ES","SE","CH","GB","US"];

  Shopify.Checkout.totalPrice = 2995.00;
  Shopify.Checkout.shop = {
    id: 56298733706,
  };
  Shopify.Checkout.shippingAddress = {
    countryCode: "VN",
    provinceCode: null,
  };
  Shopify.Checkout.billingAddress = {
    countryCode: null,
    provinceCode: null,
  };
</script>
    <script>
      ShopifyPay.forcedCheckoutOneUrl = "UGRRUm16MmJQdmV1c0MyaFhFZWxXWVFuUFVFaEhhVUNvRUJ4NSt6VktreU9kYlBIbUg5NGhjQS90MjNQUm1CYkdBWjdjTlRhV1hOVnhIYkcwdGVsY0NnSmpCSjRsTlFZbDF0WEFiRXNicHdQL0tqNVR4eWxpT0U4UTl0TzU3c1B4bm9UbEtHT3VoN3h2S3R1N1hOcDBrN2VHTzYyaUtObm83MllqeWlYQTdKbHBLaXBSTSsvVGlFeEdHN2VyNXFkT0laWVdVZ2R6aENDaVVndDJNR1FmTVBhdVdWMUVwcHovb2x5WmlBeWgwNXNLUUpJN0N3eDBsVHo5Rm9UQU9wT3lWRWFJUUxuVHNSMk5hNTZwYWxqWDZLMDNQQkM1UkJDSWNzcGk5T29sNFBra3h5MW9rbmJkQUN6NXFtSWYvTG9tUzhXdVVCajd0dDlxMmhNV1pNMS9xN3c4TWkxQUFBUlhaR1NFNUZSOGdiOXY4aG5pUkg4TTAyNzhlUkFyQTlDd25yT2J2UTZNNHgzQUJ3VSs3RStQMVJDWlZsVkxRbXpSNVdxYndFanlDQ05leEVJbkNwQW1OK3lxTEgzOWZKZTJGaXZubmNTVk9KdTlrQTgvbGhuVmZZcjJaRkUzVnV3K0RoS1M1aEtHTG5FQnFON0V4cnFXa0d4UG9KRFNjQ2NRT2JBMTQwN3FSZXdQN1hvWStETGV2TDQ1enFJeC9hWW1TYnpPUUhtR3dCQy84UktFWTQzemZVQVVVblVtTFpHUS9yNUlnK3prRWw2YlI1WVRvd1M3dnpkelo3cCtYd2ZWRHBVMVU2RXR0MDdSYnlGa3c5ekw3T0JxMDZTd1cwbzJEL29ONjNPOTVOL3hnRXFtcjczV1VnazlMQ3JRVlArczIva1lJWTZCbkNCc1lwWDlLamxUNFFFSXBOM2JuRFRFb0xUM0pSVXJZVEoybkt4RTIzOU9GUUQrSlVSZWFxTkMyN3lhRnhtelRhZndqakJoUTJLTHBpTEJheWNzUkJlMFRlck11NDRYbVBHVFhsV1FUaWk5T0NnbUJVREJFTEs5SVlvRjZoU3l0S3l6Z1BVN1Z0ZzVvTjFWdzhBWU9qQmtWOW05VDFUQU4xR0cvcHFZNTVmUUFMOFFtckFUaXNPcHh3aHZST0FhbS9zejhpZjFkOVhmNG1sbDRyR2dScDB4cW5wdGd1SWdkdUI0M3MwQ0pXZ3NhT0lWSVlGSThhRERBWnlTTTA5WUI2djZ2ejFHYjNNWG9FVXFXb0RQVTRzd1N0Y1dQNU9MZ2tITDF0WG1YUklVQXJxOHVyTWNJajFDdFcrL2hyVWF6UTZvTkVGOGJnM3hZOGdCT2xPdzMyWkhlOFZIR3MyOE5BNGFrb3BXRWV1QmpCc1FIL0tGazV1aUtwSjZiSTJuMWh6WnIrd3VhNWNlWFkxUS85MHRUR29td0tSa0d3ZXhaSWE1ZWZyZGlQL041bk5lRHhna0djYXJYU2FpcjdOQ2NVRnBCTm53QWFpd01adExzbWlCUlEwSW1vTG04VVUxTjZJYjNHN2hZQ1ltVUxmMlJtMGFFeU1zbnZBRmo2dURJd05Jd2dxWHI4QjR6S0xqVHlaMmdoUCtOM2Joc0p1dHVXUThkbnJnb0k4eXhBYXVidnpnblg2eEVOV3hnV0tqakE2QXFPTGtERUJQdytTNCtsbDUxaHJadFlNbGl5T3JOait6T3Z6SFA5ckgxNjVMR0ZxOEpKSXYzM1U1cCtscDR3c3kyRXJrcXhzOGw3LzhDNFh1YUdTUHFjS3FwSTdmdG50SmM3MDluSitEVmV1MFppeUlhdms1WTY2NWlxUVpIcVBEc2djV21sUSt6K3hCdll4TmcwT3kxQzhHTTJGNGdkMGowMG4wR2pyWDdiRG1VbXRacFFTVksvb0JLRHZTSTEvK01US1l3YmxkOGZ0UXREYlEreW9iK0ZZOFdXSGxNRU1XRmx1Z3FuYXpBPT0tLWM2MVhCd1RFSmZuaHhESDIycTljWHc9PQ==--5b552725e9c8de22ce95b4fea12e2350e4db7076";
    </script>
  <script>
    Shopify.Checkout.isCheckoutOne = false; // Override to false
    ShopifyPay.apiHost = "shop.app\/pay";
    ShopifyPay.alternateApiHost = "pay.shopify.com\/pay";
    ShopifyPay.transactionParams = "checkout_secret=603a734223f3f1d29a145183405a2516\u0026encrypted_params=cjA0cTJvUmd0SVhRQjArd01vSjc3V2RlTkJvZnZER1ZaZVFoQXk5Zm10SVlRdUYydmtsSURsZTZlT1RRT0UzMG1jTDVBTWxJN01JZVI4TWRxWFk4UG4vNDdiaFhnT2svRFJiVUlRUkJUWEYrNWxXK2tKeTRGVHZWeTd1cEZBTzZDVU9vOWJzbEtiZ3dreXVZMll4amVScnNUaEZwYStZZEpkZFVWNXRSbUpxbDVRR0tmY0pNVjA0RXdlZ2E2SmdXVm9EaUVOVThZU2tSWlB6WitPUzFEYUJoeXUwaGtENlZDdGdJbjdoWURDSlovNFNHZGRUdFVXSFJmZFhCd0lPcmpJNGw0RmZVWG1XSDNPN3hSNVhkWU9jZlIrUU0ydUhyWks5b29XM05ESXgyNjJacEptcXJiRFlwVVRRWWdMSGxhTXNyOVcyVXhOU2hXVDJzK2cyWnJSZlRrQUkxS0lmbXRxSGVzcm9VbWdGVHVSSWc2dlJjT0lJY09jSmJmdndDN3lIU0d5elo3dGk1VUk3YmZoY3QzMW1tQTF4Yk04QjRTWTFXcjBMUzMzQ3NSRXllYjh3N0NPamczUE1vQ2tybGlrWmQxY2JVczNYTjZJbnpIZ0VHQTYwc0NmWGhRSFRVL2lPVHJWNnliRkZoQnZVZlUwQ1J5ak9tZ1FTQ0Q0TkxMcGVEaFJWRXJDaDV1czd4RFpOVkg1cVhpZ01RNFlFMjNySU9QT3dxaFV5NVJaekIvbG9NRkEvdUtWZWUxTk5uNGt6d29jT1ZWYm1wbjZWWEJRWVcvQlZpYUxxSHhManNacS8rczFSaEpyWk9BUnpzNEVjZWQ5dEZGR0U0Y3ltMkFvMEFUdmdDQk91UUdhVXNjdDlwd3U3WG9Fb09ZRVBReXJwWHl2aHJrQWsxNklVMXBJbUJzZU1scDRMdkRZQUhvU2dqSktYVmU0WE5FZEFKK2ttWGpucWNqQndWMmtOUXlUQ2J5ZTRXU25GQ2xiMld0Z2YvVzR6aVBpUlRmRlk3VEl1R2xqci9CeGFWQ0ROQUp1ZTZ1Mkp1WU03NFNmLytqTkh0a21rZjRpWkNtc3JpSHdhN0kzVWNCdlpWQjBNWURGZ2tPSndudjAvSURDMUhVdTRQMXFGSUZuT1M5aWZxQXBFMTNjckw5NGsrVjJNRExpcWRyYUY3MHQ0cFI0MXBzRktBcHRlajRmYjZpRVUzamJGQ1JMQXl5OFloMzdSN09YYWhvbE1VUGIxaFhnRjhUMVBHVjV4L09waCtkR2tUVStjdWtOQTJYZ0ZNRDFqZHBRMnh5eGJsSFJadGNjakZmOFh5UUVQSkR4VWFlWHVBK052TG5abGJsTnQ0emg1NEhBaFhzVGpRdFh0TXE2Ylh6TzYwTWh3VHJvVnpLOG5CYnFmMFZGSGFUZU83ajNZR1RkVk1STmtvdFo5cUxtOFZUSTBSZWljVWRoL0xNbExjeWdTZlVRcFVZYnFjclhiMFoybVVPL1dFUHQrNlNRcUdCWFBCVERmWTc1bzZEQllDLS1sZjA3a0plNW1GUTR1QnJUcldQejR3PT0%3D--7c8858dc813a328ada531ef453b6b44a6aa35c6e\u0026locale=en";
  </script>


  <script src="//cdn.shopify.com/app/services/56298733706/javascripts/checkout_countries/124363800714/en-CA/countries-a8fecbdb0e636c6ba5eddff566eeeb397b0b3752-a8fecbdb0e636c6ba5eddff566eeeb397b0b3752-0-e1413a830127c0c2806dff1ce9313204d837ef12.js?version=2021-01-25" crossorigin="anonymous"></script>

<script src="//cdn.shopify.com/shopifycloud/shopify/assets/checkout_2021-01-25-26c2cb8a9f0f1558ecab53acbec267762c6a7fabe49a2b51cd5f570eb62ffc26.js" crossorigin="anonymous"></script>


  <script src="//cdn.shopify.com/shopifycloud/shopify/assets/shopify_pay-94e4e14e3f3aee6a425f33242a5a95f211def25b6194a12e8611d6a03f3627ec.js" crossorigin="anonymous"></script>





<script>window.ShopifyPaypalV4VisibilityTracking = true;</script>



<script type="text/javascript">
  Shopify.clientAttributesCollectionEventName =
    "client_attributes_checkout";
  var DF_CHECKOUT_TOKEN = "93ac7219a87b0343e1a087e364cb6a6f";
</script>




<script id="__st">var __st={"a":56298733706,"offset":-14400,"reqid":"e556d359-f6eb-42ab-852f-ed80096cce07","pageurl":"emma-sleep.ca\/56298733706\/checkouts\/93ac7219a87b0343e1a087e364cb6a6f?_ga=2.29489023.1373442133.1690331031-1132292578.1687856426","u":"4b9258f02232","t":"checkout","offsite":1};</script>







      <script>var Shopify = Shopify || {};
Shopify.paymentSheetCdnHost = "cdn.shopify.com";</script>
    <script src="https://cdn.shopify.com/shopifycloud/payment-sheet/assets/latest/dynamic-web-checkout.en.js" defer="defer"></script>
      <script src="//www.paypalobjects.com/api/checkout.min.js" defer="defer" data-merchant-id="3NKVDYPYPDWQ4" data-partner-attribution-id="JadedPixel_ShoppingCart_EC_CA"></script>
      <script src="https://pay.google.com/gp/p/js/pay.js" defer="defer"></script>
    <meta id="in-context-paypal-metadata" data-shop-id="56298733706" data-venmo-supported="false" data-environment="production" data-locale="en_US" data-paypal-v4="true" data-currency="CAD">





    <link href="https://www.dafontfree.net/embed/dXRvcGlhLXN0ZC1kaXNwbGF5JmRhdGEvNDgvdS80ODMwMC9VdG9waWFTdGQtRGlzcC5vdGY" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.full.js"></script>

<link rel="alternate" hreflang="en" href="">

<link rel="alternate" hreflang="fr" href="https://qc.emma-sleep.ca/56298733706/checkouts/93ac7219a87b0343e1a087e364cb6a6f">



<!-- Start Weglot Script -->
<script is="delay-script" url="https://cdn.weglot.com/weglot.min.js"></script>
<script id="has-script-tags" is="delay-script" phase="interactive">
  Weglot.initialize({ api_key: 'wg_e352fa8c030a877a802a404aac1074d00' });
</script>
<!-- End Weglot Script -->

<script>
  if (typeof ometria == 'undefined') window.ometria = {};
    ometria.raw_data={
      template: ((ometria || {}).raw_data || {}).template,
      order:null,
      cart_total:299500,
      cart_count:1,
      cart: [],
      shop_currency:"CAD",
      customer_email:null,
      namespace:"ca:"
    };
  
  ometria.raw_data.cart.push([7781585420426,43761312530570,
  5,299500]);
  
  (function(){
  var url=window.location.protocol+"//cdn.ometria.com/tags/f956f8fdda3fb069.js?v=2023091207dsfds";
  setTimeout(function(){var sc=document.createElement('script');sc.src=url;sc.setAttribute('async','true');
  document.getElementsByTagName("head")[0].appendChild(sc);},15);
  })();
</script>


<!-- Tangoo -->
<script type='text/javascript'>
  window.data_3415 = [];
  
  const isBasketPage = Shopify.Checkout.step === 'contact_information' || Shopify.Checkout.step === "payment_method" || Shopify.Checkout.step === "shipping_method";

  window.data_3415.push(!!isBasketPage
    ? {
      'Currency': '$Currency$',
      'CustomerType': '$CustomerType$',
      'ProductId': '$ProductId$',
      'gdpr': '${GDPR}',
      'gdpr_consent': '${GDPR_CONSENT_317}',
      'gdpr_pd': '${GDPR_PD}',
      'us_privacy': '${US_PRIVACY}',
      'CouponCode': '$CouponCode$',
      'PageType': 'basket'
    } : {
      'OrderId': '$OrderId$',
      'Amount': '$Amount$',
      'Currency': '$Currency$',
      'CustomerType': '$CustomerType$',
      'ProductId': '$ProductId$',
      'gdpr': '${GDPR}',
      'gdpr_consent': '${GDPR_CONSENT_317}',
      'gdpr_pd': '${GDPR_PD}',
      'us_privacy': '${US_PRIVACY}',
      'CouponCode': '$CouponCode$',
      'PageType': 'checkout'
    });
</script>

<script id="DLFNPMMP1" type="text/javascript" src="https://cdn.logico3c.com/aud/clientjs/ptag.js?3415" async></script>

<!-- End Tangoo -->

    <script src="//emma-sleep.ca/cdn/shop/t/11/assets/helpers.js?v=27854430373278452491688024718" type="text/javascript"></script>

    <link href="//emma-sleep.ca/cdn/shop/t/11/assets/emma-fonts.css?v=112868042584915557301676365667" rel="stylesheet" type="text/css" media="all" />
<link href="//emma-sleep.ca/cdn/shop/t/11/assets/custom-checkout.css?v=175730784075646167131687251075" rel="stylesheet" type="text/css" media="all" />
<link href="//emma-sleep.ca/cdn/shop/t/11/assets/checkout-style.css?v=83370116241066032881680677405" rel="stylesheet" type="text/css" media="all" />
<link href="//emma-sleep.ca/cdn/shop/t/11/assets/checkout-legacy-style.css?v=168395125906991468561666688387" rel="stylesheet" type="text/css" media="all" />



















<input
  id="promo-codes"
  type="hidden"
  value=""
  disabled
>
<input
  id="allow-more-promo-code"
  type="hidden"
  value="true"
  disabled
>
<input
  id="line-item-discount-code"
  type="hidden"
  value=""
  disabled
>
<input
  id="line-item-discounted"
  type="hidden"
  value="$0.00"
  disabled
>


  <input
    id="total-saved-amount"
    type="hidden"
    value="You save $3,725.00!"
    disabled
  >


<input
  id="promo-discount"
  type="hidden"
  value="$0.00"
  disabled
>

<script type="text/javascript">
  
  
  

  const PAYMENT_GATEWAYS_NOT_ALLOWED = ["offsite_v2"];
  const TAXES = [
    { value: "AB", labels: ["GST"], totalRate: 5 },
    { value: "NT", labels: ["GST"], totalRate: 5 },
    { value: "NU", labels: ["GST"], totalRate: 5 },
    { value: "YT", labels: ["GST"], totalRate: 5 },
    { value: "NB", labels: ["HST"], totalRate: 15 },
    { value: "NL", labels: ["HST"], totalRate: 15 },
    { value: "NS", labels: ["HST"], totalRate: 15 },
    { value: "ON", labels: ["HST"], totalRate: 13 },
    { value: "PE", labels: ["HST"], totalRate: 15 },
    { value: "BC", labels: [{ subLabel: "PST", rate: 7 }, { subLabel: "GST", rate: 5 }] },
    { value: "MB", labels: [{ subLabel: "GST", rate: 5 }, { subLabel: "RST", rate: 7 }] },
    { value: "QC", labels: [{ subLabel: "GST", rate: 5 }, { subLabel: "QST", rate: 9.98 }] },
    { value: "SK", labels: [{ subLabel: "PST", rate: 6 }, { subLabel: "GST", rate: 5 }] },
  ];

  (function ($) {
    var discountCode = $(".reduction-code").length ? $(".reduction-code").text() : null;

    window.PhoneNumberInputFormatter = function () {
      return false;
    };

    $(this).scrollTop(0);

    $(document).on("page:load page:change", function () {
      $(".main__header .logo").on("click", function (e) {
        e.preventDefault();
        showConfirmPopup($);
      });

      $(".banner .logo").on("click", function (e) {
        e.preventDefault();
        showConfirmPopup($);
      });

      addTaxesBreakdown($);

      if (Shopify.Checkout.step === "contact_information") {
        $("body").addClass("upselll_show_information");
        $("#review-shipping-address").remove();

        var $dynamicCheckoutTitle = $(".dynamic-checkout h2.dynamic-checkout__title");
        if ($dynamicCheckoutTitle) {
          $dynamicCheckoutTitle.addClass("section__title");
        }

        var $alternativePaymentSeparatorContent = $(".alternative-payment-separator__content");
        if ($alternativePaymentSeparatorContent) {
          var content = "or continue below";
          $alternativePaymentSeparatorContent.text(content);
        }


        let $phoneField = $("#checkout_billing_address_phone");
        phoneNumberValidated = false;
        validatePhoneNumber($phoneField);

        // Run validator if there is a previously cached phone number
        if ($phoneField.val() !== "") {
          validatePhoneNumber($phoneField);
        }
        ;

        $phoneField.blur(function () {
          validatePhoneNumber($phoneField);
        });

        // Validate phone number when modified
        $phoneField.on("input", function () {
          validatePhoneNumber($(this));
        });

        $("[data-step] form [type=\"submit\"]").on("click", function (e) {
          e.preventDefault();
          validatePhoneNumber($phoneField);
          if (phoneNumberValidated) {
            $("[data-step] form").trigger("submit");
          }
        });

        $("[data-step] form").on("keypress", function (e) {
          if (e.keyCode === 13) {
            e.preventDefault();
            $("[data-step] form [type=\"submit\"]").trigger("click");
          }
        });
      } else if (Shopify.Checkout.step === "shipping_method") {
        addShippingSectionSubtitle($);
				
				

        $(".order-summary-toggle").click(function () {
          $(".checkout_upsell").addClass("order-summary--is-expanded");
        });
      } else if (Shopify.Checkout.step === "payment_method") {
        disableAffirmPaymentMethod($);
      }

      const newDiscountCode = $(".reduction-code").length ? $(".reduction-code").text() : null;
      if (newDiscountCode === discountCode) {
        return;
      }
      discountCode = newDiscountCode;

    });
  })(Checkout.$);


  function showConfirmPopup($) {
    $("#leaving-checkout-popup").css("display", "block");
    $("html, body").addClass("disable-scrolling");
  }

  // CONTACT INFORMATION
  function validatePhoneNumber($phoneField) {
    phoneNumberValidated = false;
    // Remove automatic formatting triggers
    $phoneField.removeAttr("data-phone-formatter data-phone-formatter-country-select");
    let extractedPhoneVal = $phoneField.val() ? $phoneField.val().replace(/[^0-9]/g) : "";
    $phoneField.val(extractedPhoneVal);

    let errorClass = "field--error-plus-dynamic";
    let errorMessageSelector = ".field__message--error-plus-dynamic";

    // Check input for character limit and remove letters
    let minChars = 11, maxChars = 13;
    let errorMessage = "Enter a valid phone number (11-13 digits)";

    let phoneLength = $phoneField.val() ? $phoneField.val().length : 0;
    if (phoneLength !== 0 && (phoneLength < minChars || phoneLength > maxChars)) {
      // Not enough characters, show error on input.
      if (!$phoneField.hasClass(errorClass)) {
        $phoneField.addClass(errorClass);
        $phoneField.closest("[data-address-field]").after("<p class='error-message field__message--error-plus-dynamic'>" + errorMessage + "</p>");
      }
    } else {
      // Phone number is valid. Remove errors and continue.
      $phoneField.removeClass(errorClass);
      $phoneField.closest("[data-address-field]").nextAll(errorMessageSelector).remove();
      phoneNumberValidated = true;
    }
  }

  function addTaxesBreakdown($) {
    let totalShippingPrice = $(".total-line.total-line--shipping .total-line__price span");
    if (totalShippingPrice) {
      totalShippingPrice.text("FREE");
    }

    if (Shopify.Checkout.step !== "contact_information") {
      breakdownTax($);

      $('.section--shipping-method').on('click', function(){
        setTimeout(
        () => breakdownTax($),
        100);
      });
    }
  }

  function breakdownTax($) {
    let $taxLabel = $(".total-line.total-line--taxes .total-line__name");
    let $taxPrice = $(".total-line.total-line--taxes .total-line__price");
    let discount = 0;
    let shippingCost = 0; 
    
    $('[data-checkout-total-shipping-target]').each(function() {
      shippingCost += extractPrice($(this).attr('data-checkout-total-shipping-target'));
    });

    $('[data-checkout-discount-amount-target]').each(function() {
      discount += extractPrice($(this).attr('data-checkout-discount-amount-target'));
    });

    let checkoutSubtotal = extractPrice($(".total-line.total-line--subtotal [data-checkout-subtotal-price-target]").attr("data-checkout-subtotal-price-target")) - discount + shippingCost;

    const taxSubtotal = $(".tax-subtotal");
    if (taxSubtotal) {
      taxSubtotal.remove();
    }

    let selectedProvince = Shopify.Checkout.shippingAddress.provinceCode;
    const taxApplied = TAXES.find((tax) => tax.value === selectedProvince);
    const { labels, totalRate } = taxApplied;
		
		
    if (labels && (labels.length === 1)) {
      $taxLabel.text(`${labels}`);
      const value = ((checkoutSubtotal / 10000) * totalRate).toFixed(2);
      $taxPrice.html(`<span class="order-summary__emphasis">$${value}</span>`);
    } else if (labels && (labels.length > 1)) {
      let taxTotal = 0;
      const $totalTable = $(".total-line-table__tbody");
      labels.forEach((label) => {
        const { subLabel, rate } = label;
        const value = ((checkoutSubtotal / 10000) * rate).toFixed(2);
        $totalTable.append(`<tr class="total-line tax-subtotal"><th class="total-line__name">Tax (${subLabel} ${rate}%)</th><td class="total-line__price"><span class="order-summary__emphasis">$${value}</span></td></tr>`);
        taxTotal += (+value);
      });

      $taxLabel.text("Taxes");
      $taxPrice.html(`<span class="order-summary__emphasis">$${taxTotal.toFixed(2)}</span>`);
    }
		
  }

  function extractPrice(string) {
    if (string) {
      const commaPrice = string.match(/([\d,.]+)/g);
      const price = commaPrice.length ? commaPrice[0].replace(/,/, "") : "";
      return price ? +price : "";
    }
  }

  function extractPriceFrench(string) {
    if (string) {
      const commaPrice = string.match(/([\d,.]+)/g);
      const price = commaPrice.length ? commaPrice[0].replace(/,/, ".") : "";
      return price ? +price : "";
    }
  }

  // SHIPPING METHOD
  function addShippingSectionSubtitle($) {

    var node = document.querySelector(".section--shipping-method > .section__header > .section__title"),
      ele = document.createElement("p");

    ele.className = "para";
    ele.innerHTML = 'In order to get your items delivered to you faster, your order may be split into two or more shipments.';
    node.parentNode.insertBefore(ele, node.nextSibling);

    const $node1 = $(".content-box > .content-box__row > .radio-wrapper");
    
    const hasEmmaShift = !!$(".product[data-product-id='7713717682314']").length;
    
    $node1.after(`
        <p class="para2">
          Emma Original and Hybrid Comfort mattresses arrive within 3 to 7 business days. ${hasEmmaShift ? "Emma Shift mattresses arrive within 7 days." : ""}
        </p>
    `);

    // Scheduled Delivery with In-Home Setup
    const label = $("[data-shipping-method-label-title=\"Scheduled Delivery with In-Home Setup\"]");
    if (!label || !label.length) return;
    const contentBox = label.parent().parent().parent();
    const sectionContent = contentBox.closest(".section__content");


    contentBox.append(`
      <p class="para2">
        Our delivery partner will be in touch to schedule your deliveries once order has been placed. You can only schedule deliveries for orders placed at least 3 business days before your preferred delivery date.
      </p>
    `);
    label.append(`
      <div data-tooltip="true" id="scheduled_delivery_tooltip" class="tooltip-container">
        <button type="button" class="tooltip-control" data-tooltip-control="true" aria-label="More information" aria-describedby="tooltip-for-scheduled-delivery" aria-controls="tooltip-for-scheduled-delivery" aria-pressed="false" placeholder="scheduled_delivery">
          <svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-16 icon-svg--block icon-svg--center" role="presentation" aria-hidden="true" focusable="false">
             <path
              d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm.7 13H6.8v-2h1.9v2zm2.6-7.1c0 1.8-1.3 2.6-2.8 2.8l-.1 1.1H7.3L7 7.5l.1-.1c1.8-.1 2.6-.6 2.6-1.6 0-.8-.6-1.3-1.6-1.3-.9 0-1.6.4-2.3 1.1L4.7 4.5c.8-.9 1.9-1.6 3.4-1.6 1.9.1 3.2 1.2 3.2 3z">
            </path>
          </svg>
        </button>
        <span class="tooltip" role="tooltip" id="tooltip-for-scheduled-delivery">
          In-home setup only includes setting up of large items purchased (mattress or bed frame). Scheduled delivery with in-home setup cannot be refunded in the event of a return.
        </span>
      </div>
    `);
    sectionContent.append(`
      <div id="product-removal-wrapper" class="checkbox-wrapper" style="margin-top: 0.9285714286em; display: none">
        <div class="checkbox__input">
          <input name="checkout[attributes][Product Removal]" type="hidden" value="No" autocomplete="off">
          <input class="input-checkbox" type="checkbox" value="Yes"  name="checkout[attributes][Product Removal]" id="checkout_product_removal" autocomplete="off">
        </div>
        <label class="checkbox__label" for="checkout_product_removal">
          Product removal
        </label>
        <div data-tooltip="true" id="product_removal_tooltip" class="tooltip-container">
          <button type="button" class="tooltip-control" data-tooltip-control="true" aria-label="More information" aria-describedby="tooltip-for-scheduled-delivery" aria-controls="tooltip-for-product-removal" aria-pressed="false" placeholder="product_removal">
            <svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-16 icon-svg--block icon-svg--center" role="presentation" aria-hidden="true" focusable="false">
              <path
              d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm.7 13H6.8v-2h1.9v2zm2.6-7.1c0 1.8-1.3 2.6-2.8 2.8l-.1 1.1H7.3L7 7.5l.1-.1c1.8-.1 2.6-.6 2.6-1.6 0-.8-.6-1.3-1.6-1.3-.9 0-1.6.4-2.3 1.1L4.7 4.5c.8-.9 1.9-1.6 3.4-1.6 1.9.1 3.2 1.2 3.2 3z">
            </path>
            </svg>
          </button>
          <span class="tooltip" role="tooltip" id="tooltip-for-product-removal">
            If you are getting a mattress or bed frame delivered with our scheduled delivery with in-home setup option, our delivery partner will remove your old mattress and bed frame from the same room and at the same time of the delivery. Removals cannot be refunded/returned.
          </span>
        </div>
      </div>
    `);
    $("[name=\"checkout[shipping_rate][id]\"]").change(function () {
      const checked = $("[name=\"checkout[shipping_rate][id]\"]:checked").val().includes("shopify-Scheduled%20Delivery%20with%20In-Home%20Setup");
      if (checked) {
        $("#product-removal-wrapper").show();
      } else {
        $("#product-removal-wrapper").hide();
      }
    });
  }


  // PAYMENT METHOD
  function disableAffirmPaymentMethod($) {
    let hasDiscountApplied = $(".reduction-code").length || $(".reduction-code__text").length;
    let $paymentSection = $(".section--payment-method [data-payment-subform='required']");
    if (hasDiscountApplied) {
      let $gatewayFields = $paymentSection.find(`[data-gateway-name]`);
      $gatewayFields.each(function (i, elem) {
        let dataGatewayName = $(elem).attr("data-gateway-name");
        if (PAYMENT_GATEWAYS_NOT_ALLOWED.includes(dataGatewayName)) {
          const alreadySelected = $(elem).find(".input-radio").is(":checked");

          if (alreadySelected) {
            const firstGateway = $($gatewayFields[0]);

            firstGateway.find(".input-radio").trigger("click");
          }

          let paybrightIsNotAllowMsg = "Affirm cannot be used in conjunction with other discounts and promotions.";
          let dataSubfield = $(elem).attr("data-select-gateway");
          let $gateway = $paymentSection.find(`#checkout_payment_gateway_${dataSubfield}`);
          let $gatewaySubfields = $paymentSection.find(`#payment-gateway-subfields-${dataSubfield}`);
          $gatewaySubfields.hide();
          $(elem).attr("disabled", "disabled");
          $(elem).addClass("disable-payment-method");
          $(elem).children().attr("disabled", "disabled");
          $(elem).children().addClass("disable-payment-method");
          $gateway.attr("disabled", "disabled");
          $gateway.addClass("disable-payment-method");
          $(elem).after(`<p class="paybright-messages">${paybrightIsNotAllowMsg}</p>`);
        }
      });
    }
  }



</script>

<script src="//emma-sleep.ca/cdn/shop/t/11/assets/custom-checkout.js?v=55050790621677218671682404664" defer="defer"></script>


<input
      id="1071aaeeaa50bb07f65f6ee11fcbe22e"
      type="hidden"
      name="original_line_price"
      value="$6,720.00"
      disabled
    >
  


<script type="module">
  
  
  
  (function ($) {
    let promoDiscount = '$0.00';
    let totalSavedText = 'You save $3,725.00!';

    $(document).on("page:load page:change", function () {
      setTimeout(() => {
        let freeGiftCount = 0;
        $("[data-order-summary-section=\"line-items\"] .reduction-code").each(function () {
          const $this = $(this), text = $this.text().trim(), $product = $this.closest(".product");
          if (text.includes("🎁 FREE GIFT")) {
            $this.text("🎁 FREE GIFT");
            freeGiftCount += parseInt($product.find(".product-thumbnail__quantity").text());
          }
        });

        let discountCodes = $("#promo-codes").val().split("|");
        let allowPromoCode = $("#allow-more-promo-code").val() === "true";
        let discountCode = $(".reduction-code").length ? $(".reduction-code").text() : null;
        let onlyOneCodeAllowedText = 'Only one promo code may be used per order.';
        let promoText = 'Have a promo code? Enter it below.';
        let promoCodeText = $(".order-summary__section--discount .reduction-code__text").text();


        let totalOriginalPrice = '$6,720.00';
        let saleDiscount = '$3,725.00';

        const $totalTable = $(".total-line-table__tbody");

        let lineItemDiscounted = $("#line-item-discounted").val();
        let lineItemDiscountCode = $("#line-item-discount-code").val();
        if (lineItemDiscountCode.includes("FREE GIFT: 1")) {
          lineItemDiscountCode = lineItemDiscountCode.replace("1", freeGiftCount);
        }
        if (lineItemDiscounted) {
          $(".total-line--subtotal").before(`<tr class="total-line promo-code"><th class="total-line__name">${lineItemDiscountCode}</th><td class="total-line__price"><span class="order-summary__emphasis" style="color: red"> - ${lineItemDiscounted}</span></td></tr>`);
        }

        $totalTable.prepend(`<tr class="total-line sale-discount"><th class="total-line__name">Sale Discount</th><td class="total-line__price"><span class="order-summary__emphasis">- ${saleDiscount}</span></td></tr>`);
        $(".total-line.total-line--reduction").insertAfter(".total-line.sale-discount");
        $totalTable.prepend(`<tr class="total-line original_price"><th class="total-line__name">Original Price</th><td class="total-line__price"><span class="order-summary__emphasis">${totalOriginalPrice}</span></td></tr>`);

        let $promoCode = $(".total-line--reduction:not(.detached)");
        if ($promoCode.length) {
          $promoCode.detach().addClass("detached");
          $(".total-line.total-line--subtotal").after($promoCode);
        }

        if (lineItemDiscountCode) {
          $(".total-line.promo-code").show();
        } else {
          $(".total-line.promo-code").hide();
        }

        if (!allowPromoCode) {
          $(".order-summary__section--discount form.edit_checkout .fieldset").hide();
          promoText = 'Promo code applied!';
        } else {
          $(".order-summary__section--discount form.edit_checkout .fieldset").show();
        }

        if (!$(".promo-text-wrapper").length) {
          let $discountSection = $("#order-summary .order-summary__section--discount").first();
          $discountSection.prepend(
            `<div class="promo-text-wrapper">
              <p>${promoText}</p>
              <div class="discount-tooltip">&#9432;
                <span class="discount-tooltip-text">${onlyOneCodeAllowedText}</span>
              </div>
            </div>`,
          );
        }

        if (!$(".total-saved-line").length) {
          $(".total-line-table__footer").append(`
          <tr class="total-saved-line">
            <td></td>
            <td class="total-line__price payment-due" style="text-align: right; padding-top: 5px">
              <span class="total-saved-text">${totalSavedText}</span>
            </td>
          </tr>
        `);
        }

        renderSSLText();
      }, 0);
    });

    const oldXMLHttpRequest = XMLHttpRequest;
    XMLHttpRequest = function () {
      var actual = new oldXMLHttpRequest();
      var self = this;
      this.onreadystatechange = null;
      actual.onreadystatechange = function () {
        if (this.readyState == 4) {
          const url = new URL(self.responseURL)
          const searchParams = new URLSearchParams(url.search);
          const onThankYouPage = window.location.pathname.includes('/orders/') || window.location.pathname.includes('thank_you');
          
          if (self.responseURL.includes('/checkouts/') && searchParams.has('step')) {            
            const parser = new DOMParser();
            const doc = parser.parseFromString(self.responseText, "text/html");
            totalSavedText = doc.querySelector("#total-saved-amount").value;
            const promoCodes = doc.querySelector("#promo-codes").value;
            const allowPromoCode = doc.querySelector("#allow-more-promo-code").value;
            const lineItemDiscounted = doc.querySelector("#line-item-discounted").value;
            const lineItemDiscountCode = doc.querySelector("#line-item-discount-code").value;
            $(".total-saved-text").text(totalSavedText);
            promoDiscount = doc.querySelector("#promo-discount").value;
            $(".promo-code .total-line__price").text(`- ${promoDiscount}`);
            $("#promo-codes").val(promoCodes);
            $("#allow-more-promo-code").val(allowPromoCode);
            $("#line-item-discounted").val(lineItemDiscounted);
            $("#line-item-discount-code").val(lineItemDiscountCode);
          } else if (onThankYouPage) {
            // remove intercepting network request
            // due to user cannot interact with promo code on thank you page
            XMLHttpRequest = oldXMLHttpRequest
          }
        }
        if (self.onreadystatechange) {
          return self.onreadystatechange();
        }
      };
      ["status", "statusText", "responseType", "response", "readyState", "responseXML", "responseText", "responseURL", "upload"].forEach(function (item) {
        Object.defineProperty(self, item, {
          get: function () {
            return actual[item];
          },
        });
      });
      ["ontimeout, timeout", "withCredentials", "onload", "onerror", "onprogress"].forEach(function (item) {
        Object.defineProperty(self, item, {
          get: function () {
            return actual[item];
          },
          set: function (val) {
            actual[item] = val;
          },
        });
      });
      ["addEventListener", "send", "open", "abort", "getAllResponseHeaders", "getResponseHeader", "overrideMimeType", "setRequestHeader"].forEach(function (item) {
        Object.defineProperty(self, item, {
          value: function () {
            return actual[item].apply(actual, arguments);
          },
        });
      });
    };

  })(Checkout.$);

  function renderSSLText() {

    const $header = $(".main .main__header");

    if (!!$header.find("nav .ssl").length) return;

    $header.find("nav").append(`<div class='ssl'>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px"
     y="0px" viewBox="0 0 512 512" enable-background="new 0 0 512 512"
     xml:space="preserve" fill="white">
<path d="M384,224v-96C384,57.438,326.594,0,256,0c-70.578,0-128,57.438-128,128v96c-35.344,0-64,28.656-64,64v160  c0,35.344,28.656,64,64,64h256c35.344,0,64-28.656,64-64V288C448,252.656,419.344,224,384,224z M272,379.094V432  c0,8.844-7.156,16-16,16s-16-7.156-16-16v-52.906c-9.391-5.563-16-15.375-16-27.094c0-17.688,14.328-32,32-32s32,14.313,32,32  C288,363.719,281.391,373.531,272,379.094z M320,224H192v-96c0-35.313,28.703-64,64-64c35.281,0,64,28.688,64,64V224z"/>
</svg>

                Secure SSL encryption</div>
            `);
  }



</script>

<style>
  .tax-subtotal .total-line__name {
    padding-left: 1rem;
  }

  .paybright-messages {
    margin-left: 2.8rem;
    margin-bottom: 0.5rem;
    cursor: not-allowed;
  }

  .disable-payment-method {
    cursor: not-allowed;
  }

  .error-message {
    font-weight: 400;
    color: #f01130;
    margin-top: 0.5rem;
    margin-left: 0.5rem;
  }

  .field--error-plus-dynamic {
    border: 2px solid #f01130 !important;
  }

  .disable-scrolling {
    overflow: hidden;
    height: 100%;
  }

  .section__title {
    text-transform: capitalize;
    color: #ff8200 !important;
    font-size: 2em;
    font-family: Kepler Std Bold Semicondensed Display;
  }

  .alternative-payment-separator__content {
    padding-bottom: 1rem;
  }

  #review-shipping-address {
    margin-bottom: 1rem;
  }

  .original-line-price {
    text-decoration: line-through;
    font-weight: 400;
    color: #33312f;
    margin-right: 0.5rem;
  }

  .field--info .field__input {
    border-color: inherit;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .field--info .field__message--error {
    color: #b1b3d5;
    display: block;
  }

  .radio__label__primary .tooltip-container {
    height: 20px;
    width: 20px;
    display: inline-block;
    vertical-align: middle;
    margin-bottom: 2px;
  }

  #product_removal_tooltip {
    height: 10px;
    width: 15px;
    display: inline-block;
    margin-left: 7px;
  }

  #product-removal-wrapper .checkbox__input {
    display: inline-block;
  }

  label[for='checkout_product_removal'] {
    display: inline !important;
    width: auto !important;
    vertical-align: baseline;
  }

  @media (min-width: 641px) {
    #tooltip-for-scheduled-delivery {
      max-width: 90vw;
      width: 400px;
      -webkit-transform: rotateX(0deg) scale(1) translateX(50%);
      transform: rotateX(0deg) scale(1) translateX(50%);
      margin-right: 0;
    }
  }

  .promo-text-wrapper {
    display: flex;
  }

  .discount-tooltip {
    position: relative;
    display: inline-block;
    margin-left: 0.5rem;
  }

  .discount-tooltip .discount-tooltip-text {
    visibility: hidden;
    width: 10rem;
    background-color: black;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    left: 1.5rem;
  }

  .discount-tooltip:hover .discount-tooltip-text {
    visibility: visible;
  }

  .product__price {
    display: flex;
    height: 4rem;
    align-items: center;
    justify-content: flex-end;
  }

  [data-order-summary-section='line-items'] .reduction-code {
    font-size: 0.8em;
  }

  [data-order-summary-section='line-items'] .product__price del {
    display: none;
  }

  .order-summary__section__content .product__price .order-summary__emphasis.skeleton-while-loading,
  .total-saved-line {
    color: #f70909 !important;
    font-size: 14px;
  }

  .order-summary__section {
    color: #33312f;
    font-weight: 500;
  }

  .sidebar .order-summary__emphasis,
  .original-line-price,
  .sidebar .order-summary__small-text,
  .sidebar .payment-due-label__total,
  .sidebar .payment-due__currency,
  .sidebar .payment-due__price {
    color: #33312f;
  }

  .sidebar .reduction-code__text {
    color: #3c4196;
  }

  span[data-checkout-total-shipping-target] {
    color: #33312f !important;
  }

  span[data-checkout-total-shipping-target='0'] {
    color: #f01130 !important;
  }

  .product__price .order-summary__small-text {
    color: #f70909 !important;
    font-size: 14px;
    font-weight: 500;
  }

  .total-line__price {
    font-weight: 500;
  }

  .order-summary__section__content .product__price .order-summary__emphasis.skeleton-while-loading,
  .total-saved-line {
    color: #f70909 !important;
    font-size: 14px;
  }

  .order-summary__section {
    color: #33312f;
    font-weight: 500;
  }

  .sidebar .order-summary__emphasis,
  .original-line-price,
  .sidebar .order-summary__small-text,
  .sidebar .payment-due-label__total,
  .sidebar .payment-due__currency,
  .sidebar .payment-due__price {
    color: #33312f;
  }

  .sidebar .reduction-code__text {
    color: #3c4196;
  }

  span[data-checkout-total-shipping-target] {
    color: #33312f !important;
  }

  span[data-checkout-total-shipping-target='0'] {
    color: #f01130 !important;
  }

  .product__price .order-summary__small-text {
    color: #f70909 !important;
    font-size: 14px;
    font-weight: 500;
  }

  .total-line__price {
    font-weight: 500;
  }

  .step__footer__previous-link[href="https://emma-sleep.ca/cart"],
    .step__footer__previous-link[href="https://qc.emma-sleep.ca/cart"],
    .step__footer__previous-link[href="https://emma-sleep-ca.myshopify.com/cart"]
  {
    display: none;
  }
</style>

    <link rel="alternate" hreflang="en" href="">

<link rel="alternate" hreflang="fr" href="https://qc.emma-sleep.ca/56298733706/checkouts/93ac7219a87b0343e1a087e364cb6a6f">



    <!-- Start Weglot Script -->
<script is="delay-script" url="https://cdn.weglot.com/weglot.min.js"></script>
<script id="has-script-tags" is="delay-script" phase="interactive">
  Weglot.initialize({ api_key: 'wg_e352fa8c030a877a802a404aac1074d00' });
</script>
<!-- End Weglot Script -->

  </head>

  <body data-format="${{amount}}">
    <style>
  #leaving-checkout-popup {
    display: none;
    position: fixed;
    z-index: 20;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(255, 255, 255);
    background-color: rgba(255, 255, 255, 0.4);
  }

  .popup-container {
    height: max-content;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 1rem 1.5rem;
    background-color: white;
    box-shadow: 0 0 20px rgb(0 0 0 / 20%);
    border-radius: 3px;
  }

  .popup-title {
    color: #FF8200;
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  .popup-options {
    display: flex;
    flex-flow: column;
    width: 16rem;
    margin: 0 auto;
  }

  .popup-option {
    display: block;
    padding: 1rem;
    font-size: 1rem;
    border-radius: 3px;
    font-weight: 600;
  }

  .keep-checking-out {
    background-color: #FF8200;
    color: white;
    margin-bottom: 0.5rem;
  }

  .return-to-homepage {
    border: 1px solid lightgray;
    text-align: center;
    cursor: pointer;
    color: #333333;
  }

@media (min-width: 768px) {
  .popup-title {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
  }
}

</style>
<div id="leaving-checkout-popup">
  <div class="popup-container">
    <h3 class="popup-title">You haven&#39;t finished checking out yet!</h3>
    <div class="popup-options">
      <button class="popup-option keep-checking-out" onclick="hidePopup()">
        Keep checking out
      </button>
      <a class="popup-option return-to-homepage" href="/">
        Return to homepage
      </a>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    $("#leaving-checkout-popup").click(function (e) {
      if (e.target !== this)
        return;
      hidePopup();
    });
  });
  function hidePopup() {
    $('#leaving-checkout-popup').css('display', 'none');
    $('html, body').removeClass('disable-scrolling');
  }
</script>

        <a href="#main-header" class="skip-to-content">
  Skip to content
</a>



    <header class="banner" data-header role="banner">
      <div class="wrap">
          
  <a class="logo logo--left" href="https://emma-sleep.ca/"><img alt="Emma® Canada" class="logo__image logo__image--medium" src="//cdn.shopify.com/s/files/1/0562/9873/3706/files/orange_logo.png?100299" /></a>

<h1 class="visually-hidden">
  Information
</h1>


      </div>
    </header>
        <aside role="complementary">
  <button class="order-summary-toggle order-summary-toggle--show shown-if-js" aria-expanded="false" aria-controls="order-summary" data-drawer-toggle="[data-order-summary]">
    <span class="wrap">
      <span class="order-summary-toggle__inner">
        <span class="order-summary-toggle__icon-wrapper">
          <svg width="20" height="19" xmlns="http://www.w3.org/2000/svg" class="order-summary-toggle__icon">
            <path d="M17.178 13.088H5.453c-.454 0-.91-.364-.91-.818L3.727 1.818H0V0h4.544c.455 0 .91.364.91.818l.09 1.272h13.45c.274 0 .547.09.73.364.18.182.27.454.18.727l-1.817 9.18c-.09.455-.455.728-.91.728zM6.27 11.27h10.09l1.454-7.362H5.634l.637 7.362zm.092 7.715c1.004 0 1.818-.813 1.818-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817zm9.18 0c1.004 0 1.817-.813 1.817-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817z" />
          </svg>
        </span>
        <span class="order-summary-toggle__text order-summary-toggle__text--show">
          <span>Show order summary</span>
          <svg width="11" height="6" xmlns="http://www.w3.org/2000/svg" class="order-summary-toggle__dropdown" fill="#000"><path d="M.504 1.813l4.358 3.845.496.438.496-.438 4.642-4.096L9.504.438 4.862 4.534h.992L1.496.69.504 1.812z" /></svg>
        </span>
        <span class="order-summary-toggle__text order-summary-toggle__text--hide">
          <span>Hide order summary</span>
          <svg width="11" height="7" xmlns="http://www.w3.org/2000/svg" class="order-summary-toggle__dropdown" fill="#000"><path d="M6.138.876L5.642.438l-.496.438L.504 4.972l.992 1.124L6.138 2l-.496.436 3.862 3.408.992-1.122L6.138.876z" /></svg>
        </span>
        <dl class="order-summary-toggle__total-recap total-recap" data-order-summary-section="toggle-total-recap">
          <dt class="visually-hidden"><span>Sale price</span></dt>
          <dd>
            <span class="order-summary__emphasis total-recap__final-price skeleton-while-loading" data-checkout-payment-due-target="299500">$2,995.00</span>
            </dd>
        </dl>
      </span>
    </span>
  </button>
</aside>



    <div class="content custome" data-content>
      <div
  data-ship-now="Free Shipping! Orders before 2PM ET will be shipped out today."
  data-ship-next="Free Shipping! Orders shipped out the next business day."
  class="checkout-banner"></div>

<script>
  $(document).ready(function () {
    const $banner = $('.checkout-banner')

    if (!$banner.length) return

    const dateInEst = (new Date()).toLocaleString('en-US', { timeZone: 'America/New_York', hour12: false })
    const estDate = new Date(dateInEst)

    $banner.text(isShippedOutNextDay(estDate.getHours(), estDate.getMinutes()) ? $banner.data('shipNext') : $banner.data('shipNow'))
  })

  function isShippedOutNextDay(hour, minute) {
    if (hour === 14 && minute === 0) return false
    return hour >= 14 && hour <= 23;
  }
</script>

      <div class="wrap">
        <div class="main">
          <header class="main__header" role="banner">
              
  <a class="logo logo--left" href="https://emma-sleep.ca/"><img alt="Emma® Canada" class="logo__image logo__image--medium" src="//cdn.shopify.com/s/files/1/0562/9873/3706/files/orange_logo.png?100299" /></a>

<h1 class="visually-hidden">
  Information
</h1>


                  <nav aria-label="Breadcrumb">
    <ol class="breadcrumb " role="list">
        <li class="breadcrumb__item breadcrumb__item--completed">
          <a class="breadcrumb__link" href="https://emma-sleep.ca/cart">Cart</a>
          <svg class="icon-svg icon-svg--color-adaptive-light icon-svg--size-10 breadcrumb__chevron-icon" aria-hidden="true" focusable="false"> <use xlink:href="#chevron-right" /> </svg>
        </li>

          <li class="breadcrumb__item breadcrumb__item--current" aria-current="step">
          <span class="breadcrumb__text">Information</span>
            <svg class="icon-svg icon-svg--color-adaptive-light icon-svg--size-10 breadcrumb__chevron-icon" aria-hidden="true" focusable="false"> <use xlink:href="#chevron-right" /> </svg>
        </li>
          <li class="breadcrumb__item breadcrumb__item--blank">
          <span class="breadcrumb__text">Shipping</span>
            <svg class="icon-svg icon-svg--color-adaptive-light icon-svg--size-10 breadcrumb__chevron-icon" aria-hidden="true" focusable="false"> <use xlink:href="#chevron-right" /> </svg>
        </li>
          <li class="breadcrumb__item breadcrumb__item--blank">
          <span class="breadcrumb__text">Payment</span>
        </li>
    </ol>
  </nav>



          </header>

          <main class="main__content" role="main">
            <div class="checkout-countdown">
 <div id="checkout-timer">
 </div>
</div>
<script>
    const DEFAULT_COUNTDOWN_STR = '10:00';
    const countDownTimerStr = sessionStorage.countdown || DEFAULT_COUNTDOWN_STR;
    const countDownArr = countDownTimerStr.split(':');
    const countdownTimer = parseInt(countDownArr[0]) * 60 + parseInt(countDownArr[1]);
    var countdownInterVal;

    initCountText();
    
    setTime(countdownTimer, document.querySelector('#timer'));
    
    function initCountText() {
        var countDownStr = `<p>An item in your cart is in high demand. <br/>Your order is reserved for <span id="timer" style="width: 40px">${countDownTimerStr}</span> minutes. Check out soon!</p>`; 
        
        document.getElementById("checkout-timer").innerHTML = countDownStr;
    }
    
    function setTime(duration, display) {
        var timer = duration, minutes, seconds;
        countdownInterVal = setInterval(function() {
            minutes = parseInt(timer / 60, 10)
            seconds = parseInt(timer % 60, 10);
    
            display.innerHTML = `${minutes < 10 ? `0${minutes}` : minutes}:${seconds < 10 ? `0${seconds}` : seconds}`;

            var user = {'minutes': minutes, 'seconds': seconds};
    
            if (--timer < 0) {
                document.getElementsByClassName('checkout-countdown')[0].style.display = 'none';
                document.getElementById('timer').innerHTML = '';
                sessionStorage.removeItem('countdown');
                clearInterval(countdownInterVal);
            }
        }, 1000);
    }
</script>
<style>
 #checkout-timer {
  background-color: #FDFAEF;
  padding: 1rem;
  border: solid 1px #F7E1A1;
  border-radius: 3px;
  font-weight: 600;
  text-align: center;
 }

 .checkout-countdown .subtitle {
  text-align: center;
  margin-bottom: 1rem;
 }
</style>
                <div class="shown-if-js" data-alternative-payments>
    <div class="dynamic-checkout dynamic-checkout--loading">
      <h2 class="dynamic-checkout__title">
        Express checkout
      </h2>
      <div class="dynamic-checkout__content">
        <div class="dynamic-checkout__skeleton">
            <div class="placeholder-line placeholder-line--animated"></div>
            <div class="placeholder-line placeholder-line--animated"></div>
            <div class="placeholder-line placeholder-line--animated"></div>
        </div>
        <div class="dynamic-checkout__buttons" data-shopify="dynamic-web-checkout"></div>
      </div>
    </div>

    <div class="alternative-payment-separator" data-alternative-payment-separator>
      <span class="alternative-payment-separator__content">
        OR
      </span>
    </div>
</div>



            <div id="review-shipping-address">
              <div class="heading1">Your Details</div>
              <p class="para">Please review the shipping address before placing your order.</p>
            </div>
            






















  <script>(function() {
  GoogleAnalyticsSandbox = window.GoogleAnlyticsSandbox || {};
  GoogleAnalyticsSandbox.sandboxToken = "YseHWRmtW4CaymlbDxypfw";
})();
</script>
<iframe srcdoc="<script>(function() {
  Shopify = window.Shopify || {};
  Shopify.Checkout = window.Shopify.Checkout || {};
  Shopify.Checkout.allowlistedUrls = [&quot;https:\/\/emma-sleep-ca.myshopify.com&quot;,&quot;https:\/\/emma-sleep.ca&quot;,&quot;https:\/\/www.emma-sleep.ca&quot;,&quot;https:\/\/emma-sleep-ca.account.myshopify.com&quot;,&quot;https:\/\/checkout.shopify.com&quot;];
  Shopify.Checkout.allowlistedHostSuffixes = [&quot;-56298733706.shopifypreview.com&quot;];
  GoogleAnalyticsSandbox = window.GoogleAnlyticsSandbox || {};
  GoogleAnalyticsSandbox.sandboxToken = &quot;YseHWRmtW4CaymlbDxypfw&quot;;
})();
</script>
<script>!function(){var e=function(e){var t={exports:{}};return e.call(t.exports,t,t.exports),t.exports},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,&quot;value&quot;in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e,t){if(!(e instanceof t))throw new TypeError(&quot;Cannot call a class as a function&quot;)},i=function(e){return e&&e.__esModule?e:{default:e}},r=e((function(e,t){&quot;use strict&quot;;function n(e){if(&quot;string&quot;!=typeof e)return!1;var t=e.indexOf(a);if(e.substring(0,t)!==s)return!1;var n=e.substring(t+1);return JSON.parse(n)}function i(e){return&quot;&quot;+s+a+JSON.stringify(e)}function r(e){if(!e||void 0===e)return!1;try{return Shopify.Checkout.allowlistedUrls&&-1!==Shopify.Checkout.allowlistedUrls.indexOf(e)||Shopify.Checkout.allowlistedHostSuffixes&&Shopify.Checkout.allowlistedHostSuffixes.filter((function(t){return new RegExp(&quot;(.*)&quot;+t+&quot;$&quot;).test(e)})).length>0}catch(e){return window.ErrorReporter&&window.ErrorReporter.notify(new Error(e.message),&quot;sandboxed_messages.js - verifiedOrigin&quot;),!1}}function o(){return GoogleAnalyticsSandbox?GoogleAnalyticsSandbox.sandboxToken:&quot;&quot;}Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.parseMessage=n,t.buildMessage=i,t.verifiedOrigin=r,t.getSandboxToken=o;var s=&quot;shopify_sandboxed_message&quot;,a=&quot;:&quot;})),o=e((function(e,i){&quot;use strict&quot;;Object.defineProperty(i,&quot;__esModule&quot;,{value:!0});var o=function(){function e(){var t=this;n(this,e),this.calls=[],window.ga=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.gaCall(n)}}return t(e,[{key:&quot;gaCall&quot;,value:function(e){var t=this;this.calls.push(e),clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.calls.length>0&&t.sendMessage()}),0)}},{key:&quot;listen&quot;,value:function(){var e=this;window.addEventListener(&quot;message&quot;,(function(t){return e.receiveMessage(t)}),!1)}},{key:&quot;sendMessage&quot;,value:function(){window.parent.postMessage({type:&quot;analytics&quot;,calls:this.calls,sandboxToken:(0,r.getSandboxToken)()},this.origin),this.calls=[]}},{key:&quot;receiveMessage&quot;,value:function(e){if((0,r.verifiedOrigin)(e.origin)&&e.source===window.parent&&e.data&&&quot;checkout_context&quot;===e.data.type){this.origin=e.origin,window.Shopify=e.data.Shopify,window.__st=e.data.__st;try{window.additionalScripts()}catch(e){console.error(&quot;User script error: &quot;,e)}}}}]),e}();i.default=o}));e((function(){&quot;use strict&quot;;(new(i(o).default)).listen()}))}(&quot;undefined&quot;!=typeof global?global:&quot;undefined&quot;!=typeof window&&window);
window.additionalScripts = function () {
  
};
</script>" src="https://checkout.shopify.com/56298733706/sandbox/google_analytics_iframe?sandbox_token=YseHWRmtW4CaymlbDxypfw" onload="this.setAttribute(&#39;data-loaded&#39;, true)" sandbox="allow-scripts" id="google-analytics-sandbox" tabIndex="-1" class="visually-hidden" style="display:none" aria-hidden="true"></iframe>

  


<div class="step" data-step="contact_information" data-last-step="false">
  <form data-customer-information-form="true" data-email-or-phone="false" class="edit_checkout" novalidate="novalidate" action="/56298733706/checkouts/93ac7219a87b0343e1a087e364cb6a6f" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="patch" autocomplete="off" /><input type="hidden" name="authenticity_token" value="WN7QmAhvmKEQ0ysbBUIJawjsiWgg46LNV-FbcBFHpE_wmaMJAmC8MHuDSrIADADBd8MrNo96d_HZOX3QXRxGTQ" autocomplete="off" />

  <input type="hidden" name="previous_step" id="previous_step" value="contact_information" autocomplete="off" />
  <input type="hidden" name="step" value="shipping_method" autocomplete="off" />

  


  <div class="step__sections">
      
<div class="section section--contact-information">
  <div class="section__header">
    <div class="layout-flex layout-flex--tight-vertical layout-flex--loose-horizontal layout-flex--wrap">
      <h2 class="section__title layout-flex__item layout-flex__item--stretch" id="main-header" tabindex="-1">
        Contact
      </h2>

          <p class="layout-flex__item">
            <span aria-hidden="true">Have an account?</span>
            <a href="https://emma-sleep.ca/account/login?checkout_url=https%3A%2F%2Femma-sleep.ca%2F56298733706%2Fcheckouts%2F93ac7219a87b0343e1a087e364cb6a6f%3Fkey%3D603a734223f3f1d29a145183405a2516%26step%3Dcontact_information">
              <span class="visually-hidden">Have an account?</span>
              Log in
</a>          </p>
    </div>
  </div>
  <div class="section__content" data-section="customer-information" data-shopify-pay-validate-on-load="true">
        <div class="fieldset">
          <div data-shopify-pay-email-flow="true" class="field field--required">
            <label class="field__label" for="checkout_email">Email</label>
            <div class="field__input-wrapper">
              <input placeholder="Email" autocapitalize="off" spellcheck="false" autocomplete="shipping email" data-shopify-pay-handle="true" data-autofocus="true" data-backup="customer_email" aria-describedby="checkout-context-step-one" aria-required="true" class="field__input" size="30" type="email" name="checkout[email]" id="checkout_email" />
            </div>
</div>        </div> 

        <div class="fieldset-description" data-buyer-accepts-marketing>
          <div class="section__content">
            <div class="checkbox-wrapper">
  <div class="checkbox__input">
    <input name="checkout[buyer_accepts_marketing]" type="hidden" value="0" autocomplete="off" /><input class="input-checkbox" data-email-marketing="true" data-backup="buyer_accepts_marketing" type="checkbox" value="1" name="checkout[buyer_accepts_marketing]" id="checkout_buyer_accepts_marketing" />
  </div>
  <label class="checkbox__label" for="checkout_buyer_accepts_marketing">
    Email me with news and offers
</label></div>

          </div>
        </div>
  </div> 
</div> 


  <div class="section section--shipping-address" data-shipping-address>
    <div class="section__header">
      <h2 class="section__title" id="section-delivery-title">
          Shipping address
      </h2>
    </div>


    <div class="section__content">
        <div class="fieldset">
  <div class="address-fields" data-address-fields>
  <input class="visually-hidden" autocomplete="shipping given-name" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="first_name" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][first_name]" />
  <input class="visually-hidden" autocomplete="shipping family-name" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="last_name" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][last_name]" />
  
  <input class="visually-hidden" autocomplete="shipping address-line1" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="address1" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][address1]" />
  <input class="visually-hidden" autocomplete="shipping address-line2" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="address2" data-honeypot="true" size="30" type="text" name="checkout[shipping_address][address2]" />
  <input class="visually-hidden" autocomplete="shipping address-level2" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="city" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][city]" />
  <input class="visually-hidden" autocomplete="shipping country" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="country" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][country]" />
  <input class="visually-hidden" autocomplete="shipping address-level1" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="province" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][province]" />
  <input class="visually-hidden" autocomplete="shipping postal-code" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="zip" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][zip]" />
  <input class="visually-hidden" autocomplete="shipping tel" tabindex="-1" aria-hidden="true" aria-label="no-label" data-autocomplete-field="phone" data-honeypot="true" aria-required="true" size="30" type="text" name="checkout[shipping_address][phone]" />



  <div class="field--half field field--required" data-address-field="first_name">
    <label class="field__label" for="checkout_shipping_address_first_name">First name</label>
    <div class="field__input-wrapper">
      <input placeholder="First name" autocomplete="shipping given-name" autocorrect="off" data-backup="first_name" class="field__input" aria-required="true" size="30" type="text" name="checkout[shipping_address][first_name]" id="checkout_shipping_address_first_name" />
    </div>
</div>
  <div class="field--half field field--required" data-address-field="last_name">
    <label class="field__label" for="checkout_shipping_address_last_name">Last name</label>
    <div class="field__input-wrapper">
      <input placeholder="Last name" autocomplete="shipping family-name" autocorrect="off" data-backup="last_name" class="field__input" aria-required="true" size="30" type="text" name="checkout[shipping_address][last_name]" id="checkout_shipping_address_last_name" />
    </div>
</div>

  <div data-address-field="address1" data-autocomplete-field-container="true" class="field field--required">
    <label class="field__label" for="checkout_shipping_address_address1">Address</label>
    <div class="field__input-wrapper">
        <input placeholder="Address" autocomplete="shipping address-line1" autocorrect="off" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-required="true" data-backup="address1" data-autocomplete-trigger="true" data-autocomplete-title="Suggestions" data-autocomplete-single-item="1 item available" data-autocomplete-multi-item="{{number}} items available" data-autocomplete-item-selection="{{number}} of {{total}}" data-autocomplete-close="Close suggestions" class="field__input" size="30" type="text" name="checkout[shipping_address][address1]" id="checkout_shipping_address_address1" />

      <p class="field__additional-info visually-hidden" data-address-civic-number-warning>
        <svg class="icon-svg icon-svg--size-16 field__message__icon" aria-hidden="true" focusable="false"> <use xlink:href="#info" /> </svg>
        Add a house number if you have one
      </p>
    </div>
</div>
    <div data-address-field="address2" data-autocomplete-field-container="true" class="field field--optional">
      <label class="field__label" for="checkout_shipping_address_address2">Apartment, suite, etc. (optional)</label>
      <div class="field__input-wrapper">
        <input placeholder="Apartment, suite, etc. (optional)" autocomplete="shipping address-line2" autocorrect="off" data-backup="address2" class="field__input" size="30" type="text" name="checkout[shipping_address][address2]" id="checkout_shipping_address_address2" />
      </div>
</div>
  <div data-address-field="city" data-autocomplete-field-container="true" class="field field--required">
    <label class="field__label" for="checkout_shipping_address_city">City</label>
    <div class="field__input-wrapper">
      <input placeholder="City" autocomplete="shipping address-level2" autocorrect="off" data-backup="city" class="field__input" aria-required="true" size="30" type="text" name="checkout[shipping_address][city]" id="checkout_shipping_address_city" />
    </div>
</div>
  <div class="field--third field field--required" data-address-field="country" data-autocomplete-field-container="true">
    <label class="field__label" for="checkout_shipping_address_country">Country/region</label>
    <div class="field__input-wrapper field__input-wrapper--select">
      <select size="1" autocomplete="shipping country" data-backup="country" class="field__input field__input--select" aria-required="true" name="checkout[shipping_address][country]" id="checkout_shipping_address_country"><option data-code="CA" data-pure-numeric-postal-code="false" value="Canada">Canada</option></select>
      <div class="field__caret">
        <svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-10 field__caret-svg" role="presentation" aria-hidden="true" focusable="false"> <use xlink:href="#caret-down" /> </svg>
      </div>
    </div>
</div>
  <div class="field--third field field--required" data-address-field="province" data-autocomplete-field-container="true">
    <label class="field__label" for="checkout_shipping_address_province">Region</label>
    <div class="field__input-wrapper field__input-wrapper--select">
      <input placeholder="Region" autocomplete="shipping address-level1" autocorrect="off" data-backup="province" class="field__input" aria-required="true" type="text" name="checkout[shipping_address][province]" id="checkout_shipping_address_province" />
      <div class="field__caret shown-if-js">
        <svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-10 field__caret-svg" role="presentation" aria-hidden="true" focusable="false"> <use xlink:href="#caret-down" /> </svg>
      </div>
    </div>
</div>
  <div class="field--third field field--required" data-address-field="zip" data-autocomplete-field-container="true">
    <label class="field__label" for="checkout_shipping_address_zip">Postal code</label>
    <div class="field__input-wrapper">
        <input placeholder="Postal code" autocomplete="shipping postal-code" autocorrect="off" data-backup="zip" data-autocomplete-trigger="true" data-autocomplete-title="Suggestions" data-autocomplete-single-item="1 item available" data-autocomplete-multi-item="{{number}} items available" data-autocomplete-item-selection="{{number}} of {{total}}" data-autocomplete-close="Close suggestions" class="field__input field__input--zip" aria-required="true" size="30" type="text" name="checkout[shipping_address][zip]" id="checkout_shipping_address_zip" />
    </div>
</div>
    <div data-address-field="phone" class="field field--required">
      <label class="field__label" for="checkout_shipping_address_phone">Phone</label>
      <div class="field__input-wrapper field__input-wrapper--icon-right">
        <input placeholder="Phone" autocomplete="shipping tel" autocorrect="off" data-backup="phone" data-phone-formatter="true" data-phone-formatter-country-select="[name=&#39;checkout[shipping_address][country]&#39;]" data-placeholder-label-required="Phone" data-placeholder-label-optional="Phone (optional)" class="field__input field__input--numeric" aria-required="true" size="30" type="tel" name="checkout[shipping_address][phone]" id="checkout_shipping_address_phone" />
        <div class="field__icon">
        <div data-tooltip="true" id="phone_tooltip" class="tooltip-container"><button type="button" class="tooltip-control" data-tooltip-control="true" aria-label="More information" aria-describedby="tooltip-for-phone" aria-controls="tooltip-for-phone" aria-pressed="false"><svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-16 icon-svg--block icon-svg--center" role="presentation" aria-hidden="true" focusable="false"> <use xlink:href="#question" /> </svg></button><span class="tooltip" role="tooltip" id="tooltip-for-phone">In case we need to contact you about your order</span></div>
        </div>
      </div>
</div>
    
    
</div>



    <div data-sms-marketing="true" data-buyer-accepts-sms>
  <div class="field">
    <div class="checkbox-wrapper">
      <div class="checkbox__input">
        <input name="checkout[buyer_accepts_sms]" type="hidden" value="0" autocomplete="off" /><input class="input-checkbox" data-backup="buyer_accepts_sms" data-sms-marketing="true" type="checkbox" value="1" name="checkout[buyer_accepts_sms]" id="checkout_buyer_accepts_sms" />
      </div>
      <label class="checkbox__label" for="checkout_buyer_accepts_sms">
        Text me with news and offers
</label>    </div>
  </div>
</div>

<div data-sms-marketing-phone-wrapper="true" class="sms-marketing-fieldset">
  <div class="field--two-thirds field field--required">
    <label class="field__label" for="checkout_sms_marketing_phone">Mobile phone number</label>
    <div class="field__input-btn-wrapper">
      <div class="field__input-wrapper field__input-wrapper--icon-left">
        <input placeholder="Mobile phone number" autocapitalize="off" spellcheck="false" autocomplete="mobile tel" data-autofocus="true" data-phone-flag-input="true" data-phone-flag-input-default-country="Canada" data-phone-formatter="true" data-phone-formatter-insert-country-code="true" data-backup="phone" data-phone-fomatter-e164="true" data-phone-formatter-region-code="CA" data-phone-flag-label="Country/Region code" class="field__input field__input--numeric" aria-required="true" size="30" type="tel" name="checkout[sms_marketing_phone]" id="checkout_sms_marketing_phone" />
        <div id="remember_me_mobile_phone_number_tooltip" class="field__icon"><div class="field__icon-svg"><svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-24 icon-svg--block" aria-hidden="true" focusable="false"> <use xlink:href="#mobile-phone" /> </svg></div></div>
      </div>
    </div>
    
</div>
  <div class="field field--three-fourths sms-marketing-phone-description">
    <p class="section__content__text small-text sms-marketing-disclaimer">
    By signing up via text, you agree to receive recurring automated marketing messages, including cart reminders, at the phone number provided. Consent is not a condition of purchase. Reply STOP to unsubscribe. Reply HELP for help. Message frequency varies. Msg &amp; data rates may apply. View our <a href="/policies/privacy-policy" target="_blank">Privacy Policy</a> and <a href="/policies/terms-of-service" target="_blank">Terms of Service</a>.
    </p>
  </div>
</div>

</div> 


    </div> 
  </div>


  


    
    
  </div>

  <div class="step__footer" data-step-footer>

    <button name="button" type="submit" id="continue_button" class="step__footer__continue-btn btn" aria-busy="false"><span class="btn__content" data-continue-button-content="true">Continue to shipping</span><svg class="icon-svg icon-svg--size-18 btn__spinner icon-svg--spinner-button" aria-hidden="true" focusable="false"> <use xlink:href="#spinner-button" /> </svg></button>
  <a class="step__footer__previous-link" href="https://emma-sleep.ca/cart"><svg focusable="false" aria-hidden="true" class="icon-svg icon-svg--color-accent icon-svg--size-10 previous-link__icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M8 1L7 0 3 4 2 5l1 1 4 4 1-1-4-4"/></svg><span class="step__footer__previous-link-content">Return to cart</span></a>
</div>

</form>
</div>


  <div class="hidden">
  <span class="visually-hidden" id="forwarding-external-new-window-message">
    Opens external website in a new window.
  </span>

  <span class="visually-hidden" id="forwarding-new-window-message">
    Opens in a new window.
  </span>

  <span class="visually-hidden" id="forwarding-external-message">
    Opens external website.
  </span>

  <span class="visually-hidden" id="checkout-context-step-one">
    Order details - Emma® Canada - Checkout
  </span>
</div>




          </main>

          <div class="main-award">
            <div id="shopify-section-checkout-shop-awards" class="shopify-section"><p class="sidebar-award__title">Multi Award Winning Mattress</p>
<ul class="sidebar-award__list">
  
    <li>
      <img src="//emma-sleep.ca/cdn/shop/files/award-1_small.png?v=1660720210" width="auto" height="auto" loading="lazy">
    </li>
  
    <li>
      <img src="//emma-sleep.ca/cdn/shop/files/US_Affiliate_Awards_small.png?v=1666583053" width="auto" height="auto" loading="lazy">
    </li>
  
    <li>
      <img src="//emma-sleep.ca/cdn/shop/files/Untitled_design_8_55bce6b2-134d-434d-a6b3-559daabb3edd_small.png?v=1666601114" width="auto" height="auto" loading="lazy">
    </li>
  
    <li>
      <img src="//emma-sleep.ca/cdn/shop/files/Sleepopolis_Logo_-_Best_Overall_Mattress_2022_small.png?v=1666583075" width="auto" height="auto" loading="lazy">
    </li>
  
</ul>

</div>
          </div>

          <footer class="main__footer" role="contentinfo">
                <ul class="policy-list" role="list">
      <li class="policy-list__item ">
        <a aria-haspopup="dialog" data-modal="policy-refund-policy" data-title-text="Refund policy" data-close-text="Close" data-iframe="true" href="/56298733706/policies/refund-policy.html?locale=en-CA">Refund policy</a>
      </li>
      <li class="policy-list__item ">
        <a aria-haspopup="dialog" data-modal="policy-privacy-policy" data-title-text="Privacy policy" data-close-text="Close" data-iframe="true" href="/56298733706/policies/privacy-policy.html?locale=en-CA">Privacy policy</a>
      </li>
      <li class="policy-list__item ">
        <a aria-haspopup="dialog" data-modal="policy-terms-of-service" data-title-text="Terms of service" data-close-text="Close" data-iframe="true" href="/56298733706/policies/terms-of-service.html?locale=en-CA">Terms of service</a>
      </li>
  </ul>
  
  


          </footer>
        </div>
        <aside class="sidebar" role="complementary">
          <div class="sidebar__header">
              
  <a class="logo logo--left" href="https://emma-sleep.ca/"><img alt="Emma® Canada" class="logo__image logo__image--medium" src="//cdn.shopify.com/s/files/1/0562/9873/3706/files/orange_logo.png?100299" /></a>

<h1 class="visually-hidden">
  Information
</h1>


          </div>
          <div class="sidebar__content">
                <div id="order-summary" class="order-summary order-summary--is-collapsed" data-order-summary>
  <h2 class="visually-hidden-if-js">Order summary</h2>

  <div class="order-summary__sections">
    <div class="order-summary__section order-summary__section--product-list">
  <div class="order-summary__section__content">
    <table class="product-table">
      <caption class="visually-hidden">Shopping cart</caption>
      <thead class="product-table__header">
        <tr>
          <th scope="col"><span class="visually-hidden">Product image</span></th>
          <th scope="col"><span class="visually-hidden">Description</span></th>
          <th scope="col"><span class="visually-hidden">Quantity</span></th>
          <th scope="col"><span class="visually-hidden">Price</span></th>
        </tr>
      </thead>
      <tbody data-order-summary-section="line-items">
        <tr class="product" data-product-id="7781585420426" data-variant-id="43761312530570" data-product-type="" data-customer-ready-visible>
          <td class="product__image">
            <div class="product-thumbnail ">
  <div class="product-thumbnail__wrapper">
    <img alt="Sleep Essential Bundle - Twin | 39&quot; x 75&quot;" class="product-thumbnail__image" src="//cdn.shopify.com/s/files/1/0562/9873/3706/files/EmmaCA-ThanksgivingBundle-02_small.jpg?v=1695398172" />
  </div>
    <span class="product-thumbnail__quantity" aria-hidden="true">5</span>
</div>

          </td>
          <th class="product__description" scope="row">
            <span class="product__description__name order-summary__emphasis">Sleep Essential Bundle</span>
            <span class="product__description__variant order-summary__small-text">Twin | 39&quot; x 75&quot;</span>

          </th>
          <td class="product__quantity">
            <span class="visually-hidden">
              5
            </span>
          </td>
          <td class="product__price">
              <span class="order-summary__emphasis skeleton-while-loading">$2,995.00</span>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="order-summary__scroll-indicator" aria-hidden="true" tabindex="-1" id="order-summary__scroll-indicator">
      Scroll for more items
      <svg aria-hidden="true" focusable="false" class="icon-svg icon-svg--size-12"> <use xlink:href="#down-arrow" /> </svg>
    </div>
  </div>
</div>


      <div class="order-summary__section order-summary__section--discount" data-reduction-form="update">
        <h3 class="visually-hidden">Discount</h3>
        <form class="edit_checkout" action="/56298733706/checkouts/93ac7219a87b0343e1a087e364cb6a6f" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="patch" autocomplete="off" /><input type="hidden" name="authenticity_token" value="-6PLzVdhUntbIuLyCZUf0-rqg6-DZrBQixtWwVFABH9T5LhcXW526jByg1sM2xZ5lcUh8Sz_ZWwFw3BhHRvmfQ" autocomplete="off" />
  <input type="hidden" name="step" value="contact_information" autocomplete="off" />
</form>
<form class="edit_checkout" action="/56298733706/checkouts/93ac7219a87b0343e1a087e364cb6a6f" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="patch" autocomplete="off" /><input type="hidden" name="authenticity_token" value="lIuRIh81FagFCb8dz0M36eQjpXarPclhJG2OmvHT6mA8zOKzFToxOW5Z3rTKDT5DmwwHKASkHF2qtag6vYgIYg" autocomplete="off" />
  <input type="hidden" name="step" value="contact_information" autocomplete="off" />
  <div class="fieldset">
    <div class="field ">
      <label class="field__label" for="checkout_reduction_code">Discount code</label>
      <div class="field__input-btn-wrapper">
        <div class="field__input-wrapper">
          <input placeholder="Discount code" class="field__input" id="checkout_reduction_code" data-discount-field="true" autocomplete="off" aria-required="true" size="30" type="text" name="checkout[reduction_code]" />
        </div>

        <button name="checkout[submit]" type="submit" id="checkout_submit" class="field__input-btn btn btn--disabled" aria-busy="false">
              <span class="btn__content visually-hidden-on-mobile" aria-hidden="true">
                Apply
              </span>
              <span class="visually-hidden">
                Apply Discount Code
              </span>
              <svg class="icon-svg icon-svg--size-16 btn__icon shown-on-mobile" aria-hidden="true" focusable="false"> <use xlink:href="#arrow" /> </svg>
              <svg class="icon-svg icon-svg--size-18 btn__spinner icon-svg--spinner-button" aria-hidden="true" focusable="false"> <use xlink:href="#spinner-button" /> </svg>
</button>      </div>

    </div>
  </div>
</form>

      </div>

    <div class="order-summary__section order-summary__section--total-lines" data-order-summary-section="payment-lines">
      <table class="total-line-table">
  <caption class="visually-hidden">Cost summary</caption>
  <thead>
    <tr>
      <th scope="col"><span class="visually-hidden">Description</span></th>
      <th scope="col"><span class="visually-hidden">Price</span></th>
    </tr>
  </thead>
    <tbody class="total-line-table__tbody">
      <tr class="total-line total-line--subtotal">
  <th class="total-line__name" scope="row">Subtotal</th>
  <td class="total-line__price">
    <span class="order-summary__emphasis skeleton-while-loading" data-checkout-subtotal-price-target="299500">
      $2,995.00
    </span>
  </td>
</tr>



        <tr class="total-line total-line--shipping">
  <th class="total-line__name" scope="row">
      <span>
        Shipping
      </span>

  </th>
  <td class="total-line__price">
    <span class="skeleton-while-loading order-summary__small-text" data-checkout-total-shipping-target="0">
      Calculated at next step
    </span>
  </td>
</tr>



        <tr class="total-line total-line--taxes hidden" data-checkout-taxes>
  <th class="total-line__name" scope="row">Estimated taxes</th>
  <td class="total-line__price">
    <span class="order-summary__emphasis skeleton-while-loading" data-checkout-total-taxes-target="0">$0.00</span>
  </td>
</tr>


      
    </tbody>
  <tfoot class="total-line-table__footer">
    <tr class="total-line">
      <th class="total-line__name payment-due-label" scope="row">
        <span class="payment-due-label__total">Total</span>
      </th>
      <td class="total-line__price payment-due" data-presentment-currency="CAD">
        <span class="payment-due__currency remove-while-loading">CAD</span>
        <span class="payment-due__price skeleton-while-loading--lg" data-checkout-payment-due-target="299500">
          $2,995.00
        </span>
      </td>
    </tr>
  </tfoot>
</table>

    </div>
  </div>
</div>

<div class="visually-hidden" data-order-summary-section="accessibility-live-region">
  <div aria-live="polite" aria-atomic="true" role="status">
    Updated total price:
    <span data-checkout-payment-due-target="299500">
      $2,995.00
    </span>
  </div>
</div>


  <div id="partial-icon-symbols" class="icon-symbols" data-tg-refresh="partial-icon-symbols" data-tg-refresh-always="true"><svg xmlns="http://www.w3.org/2000/svg"><symbol id="info"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 11h1v7h-2v-5c-.552 0-1-.448-1-1s.448-1 1-1h1zm0 13C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zM10.5 7.5c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z"/></svg></symbol>
<symbol id="caret-down"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M0 3h10L5 8" fill-rule="nonzero"/></svg></symbol>
<symbol id="question"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm.7 13H6.8v-2h1.9v2zm2.6-7.1c0 1.8-1.3 2.6-2.8 2.8l-.1 1.1H7.3L7 7.5l.1-.1c1.8-.1 2.6-.6 2.6-1.6 0-.8-.6-1.3-1.6-1.3-.9 0-1.6.4-2.3 1.1L4.7 4.5c.8-.9 1.9-1.6 3.4-1.6 1.9.1 3.2 1.2 3.2 3z"/></svg></symbol>
<symbol id="powered-by-google"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 116 15"><path fill="#737373" d="M4.025 3.572c1.612 0 2.655 1.283 2.655 3.27 0 1.974-1.05 3.27-2.655 3.27-.902 0-1.63-.393-1.974-1.06h-.09v3.057H.95V3.68h.96v1.054h.094c.404-.726 1.16-1.166 2.02-1.166zm-.24 5.63c1.16 0 1.852-.884 1.852-2.36 0-1.477-.692-2.362-1.846-2.362-1.14 0-1.86.91-1.86 2.362 0 1.447.72 2.36 1.857 2.36zm7.072.91c-1.798 0-2.912-1.243-2.912-3.27 0-2.033 1.114-3.27 2.912-3.27 1.8 0 2.913 1.237 2.913 3.27 0 2.027-1.114 3.27-2.913 3.27zm0-.91c1.196 0 1.87-.866 1.87-2.36 0-1.5-.674-2.362-1.87-2.362-1.195 0-1.87.862-1.87 2.362 0 1.494.675 2.36 1.87 2.36zm12.206-5.518H22.05l-1.244 5.05h-.094L19.3 3.684h-.966l-1.412 5.05h-.094l-1.242-5.05h-1.02L16.336 10h1.02l1.406-4.887h.093L20.268 10h1.025l1.77-6.316zm3.632.78c-1.008 0-1.71.737-1.787 1.856h3.48c-.023-1.12-.69-1.857-1.693-1.857zm1.664 3.9h1.005c-.305 1.085-1.277 1.747-2.66 1.747-1.752 0-2.848-1.262-2.848-3.26 0-1.987 1.113-3.276 2.847-3.276 1.705 0 2.742 1.213 2.742 3.176v.386h-4.542v.047c.053 1.248.75 2.04 1.822 2.04.815 0 1.366-.3 1.63-.857zM31.03 10h1.01V6.086c0-.89.696-1.535 1.657-1.535.2 0 .563.038.645.06V3.6c-.13-.018-.34-.03-.504-.03-.838 0-1.565.434-1.752 1.05h-.094v-.938h-.96V10zm6.915-5.537c-1.008 0-1.71.738-1.787 1.857h3.48c-.023-1.12-.69-1.857-1.693-1.857zm1.664 3.902h1.005c-.304 1.084-1.277 1.746-2.66 1.746-1.752 0-2.848-1.262-2.848-3.26 0-1.987 1.113-3.276 2.847-3.276 1.705 0 2.742 1.213 2.742 3.176v.386h-4.542v.047c.053 1.248.75 2.04 1.822 2.04.815 0 1.366-.3 1.63-.857zm5.01 1.746c-1.62 0-2.657-1.28-2.657-3.266 0-1.98 1.05-3.27 2.654-3.27.878 0 1.622.416 1.98 1.108h.087V1.177h1.008V10h-.96V8.992h-.094c-.4.703-1.15 1.12-2.02 1.12zm.232-5.63c-1.15 0-1.846.89-1.846 2.364 0 1.476.69 2.36 1.846 2.36 1.148 0 1.857-.9 1.857-2.36 0-1.447-.715-2.362-1.857-2.362zm7.875-3.115h1.024v3.123c.23-.3.507-.53.827-.688.32-.16.668-.238 1.043-.238.78 0 1.416.27 1.9.806.49.537.73 1.33.73 2.376 0 .992-.24 1.817-.72 2.473-.48.656-1.145.984-1.997.984-.476 0-.88-.114-1.207-.344-.195-.137-.404-.356-.627-.657v.8h-.97V1.363zm4.02 7.225c.284-.454.426-1.05.426-1.794 0-.66-.142-1.207-.425-1.64-.283-.434-.7-.65-1.25-.65-.48 0-.9.177-1.264.532-.36.356-.542.942-.542 1.758 0 .59.075 1.068.223 1.435.277.694.795 1.04 1.553 1.04.57 0 .998-.227 1.28-.68zM63.4 3.726h1.167c-.148.402-.478 1.32-.99 2.754-.383 1.077-.703 1.956-.96 2.635-.61 1.602-1.04 2.578-1.29 2.93-.25.35-.68.527-1.29.527-.147 0-.262-.006-.342-.017-.08-.012-.178-.034-.296-.065v-.96c.183.05.316.08.4.093.08.012.152.018.215.018.195 0 .338-.03.43-.094.092-.065.17-.144.232-.237.02-.033.09-.193.21-.48.122-.29.21-.506.264-.646l-2.32-6.457h1.196l1.68 5.11 1.694-5.11zM73.994 5.282V6.87h3.814c-.117.89-.416 1.54-.87 1.998-.557.555-1.427 1.16-2.944 1.16-2.35 0-4.184-1.882-4.184-4.217 0-2.332 1.835-4.215 4.184-4.215 1.264 0 2.192.497 2.873 1.135l1.122-1.117C77.04.697 75.77 0 73.99 0c-3.218 0-5.923 2.606-5.923 5.805 0 3.2 2.705 5.804 5.923 5.804 1.738 0 3.048-.57 4.073-1.628 1.05-1.045 1.382-2.522 1.382-3.71 0-.366-.028-.708-.087-.992h-5.37zm10.222-1.29c-2.082 0-3.78 1.574-3.78 3.748 0 2.154 1.698 3.747 3.78 3.747S87.998 9.9 87.998 7.74c0-2.174-1.7-3.748-3.782-3.748zm0 6.018c-1.14 0-2.127-.935-2.127-2.27 0-1.348.983-2.27 2.124-2.27 1.142 0 2.128.922 2.128 2.27 0 1.335-.986 2.27-2.128 2.27zm18.54-5.18h-.06c-.37-.438-1.083-.838-1.985-.838-1.88 0-3.52 1.632-3.52 3.748 0 2.102 1.64 3.747 3.52 3.747.905 0 1.618-.4 1.988-.852h.06v.523c0 1.432-.773 2.2-2.012 2.2-1.012 0-1.64-.723-1.9-1.336l-1.44.593c.414.994 1.51 2.213 3.34 2.213 1.94 0 3.58-1.135 3.58-3.902v-6.74h-1.57v.645zm-1.9 5.18c-1.144 0-2.013-.968-2.013-2.27 0-1.323.87-2.27 2.01-2.27 1.13 0 2.012.967 2.012 2.282.006 1.31-.882 2.258-2.01 2.258zM92.65 3.992c-2.084 0-3.783 1.574-3.783 3.748 0 2.154 1.7 3.747 3.782 3.747 2.08 0 3.78-1.587 3.78-3.747 0-2.174-1.7-3.748-3.78-3.748zm0 6.018c-1.143 0-2.13-.935-2.13-2.27 0-1.348.987-2.27 2.13-2.27 1.14 0 2.126.922 2.126 2.27 0 1.335-.986 2.27-2.127 2.27zM105.622.155h1.628v11.332h-1.628m6.655-1.477c-.843 0-1.44-.38-1.83-1.135l5.04-2.07-.168-.426c-.314-.84-1.274-2.39-3.227-2.39-1.94 0-3.554 1.516-3.554 3.75 0 2.1 1.595 3.745 3.736 3.745 1.725 0 2.724-1.05 3.14-1.658l-1.285-.852c-.427.62-1.01 1.032-1.854 1.032zm-.117-4.612c.668 0 1.24.342 1.427.826l-3.405 1.4c0-1.574 1.122-2.226 1.978-2.226z"/></svg></symbol>
<symbol id="close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.1 2.3L13.7.9 8 6.6 2.3.9.9 2.3 6.6 8 .9 13.7l1.4 1.4L8 9.4l5.7 5.7 1.4-1.4L9.4 8"/></svg></symbol>
<symbol id="mobile-phone"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 2.99C5 1.34 6.342 0 8.003 0h7.994C17.655 0 19 1.342 19 2.99v18.02c0 1.65-1.342 2.99-3.003 2.99H8.003C6.345 24 5 22.658 5 21.01V2.99zM7 5c0-.552.456-1 .995-1h8.01c.55 0 .995.445.995 1v14c0 .552-.456 1-.995 1h-8.01C7.445 20 7 19.555 7 19V5zm5 18c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1z" fill-rule="evenodd"/></svg></symbol>
<symbol id="spinner-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0v2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8h2z"/></svg></symbol>
<symbol id="chevron-right"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M2 1l1-1 4 4 1 1-1 1-4 4-1-1 4-4"/></svg></symbol>
<symbol id="down-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path d="M10.817 7.624l-4.375 4.2c-.245.235-.64.235-.884 0l-4.375-4.2c-.244-.234-.244-.614 0-.848.245-.235.64-.235.884 0L5.375 9.95V.6c0-.332.28-.6.625-.6s.625.268.625.6v9.35l3.308-3.174c.122-.117.282-.176.442-.176.16 0 .32.06.442.176.244.234.244.614 0 .848"/></svg></symbol>
<symbol id="arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M16 8.1l-8.1 8.1-1.1-1.1L13 8.9H0V7.3h13L6.8 1.1 7.9 0 16 8.1z"/></svg></symbol>
<symbol id="spinner-small"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0v2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14h2z"/></svg></symbol></svg></div>


          </div>
        </aside>
      </div>
    </div>

    <link href="https://monorail-edge.shopifysvc.com" rel="dns-prefetch">
<script>window.ShopifyAnalytics = window.ShopifyAnalytics || {};
window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {};
window.ShopifyAnalytics.meta.currency = 'CAD';
var meta = {"page":{"path":"\/checkout\/contact_information","search":"?_ga=2.29489023.1373442133.1690331031-1132292578.1687856426","url":"https:\/\/emma-sleep.ca\/56298733706\/checkouts\/93ac7219a87b0343e1a087e364cb6a6f?_ga=2.29489023.1373442133.1690331031-1132292578.1687856426"}};
for (var attr in meta) {
  window.ShopifyAnalytics.meta[attr] = meta[attr];
}</script>
<script>window.ShopifyAnalytics.merchantGoogleAnalytics = function() {
  
};
</script>
<script class="analytics">(function () {
  var customDocumentWrite = function(content) {
    var jquery = null;

    if (window.jQuery) {
      jquery = window.jQuery;
    } else if (window.Checkout && window.Checkout.$) {
      jquery = window.Checkout.$;
    }

    if (jquery) {
      jquery('body').append(content);
    }
  };

  var hasLoggedConversion = function(token) {
    if (token) {
      return document.cookie.indexOf('loggedConversion=' + token) !== -1;
    }
    return false;
  }

  var setCookieIfConversion = function(token) {
    if (token) {
      var twoMonthsFromNow = new Date(Date.now());
      twoMonthsFromNow.setMonth(twoMonthsFromNow.getMonth() + 2);

      document.cookie = 'loggedConversion=' + token + '; expires=' + twoMonthsFromNow;
    }
  }

  var trekkie = window.ShopifyAnalytics.lib = window.trekkie = window.trekkie || [];
  if (trekkie.integrations) {
    return;
  }
  trekkie.methods = [
    'identify',
    'page',
    'ready',
    'track',
    'trackForm',
    'trackLink'
  ];
  trekkie.factory = function(method) {
    return function() {
      var args = Array.prototype.slice.call(arguments);
      args.unshift(method);
      trekkie.push(args);
      return trekkie;
    };
  };
  for (var i = 0; i < trekkie.methods.length; i++) {
    var key = trekkie.methods[i];
    trekkie[key] = trekkie.factory(key);
  }
  trekkie.load = function(config) {
    trekkie.config = config || {};
    trekkie.config.initialDocumentCookie = document.cookie;
    var first = document.getElementsByTagName('script')[0];
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.onerror = function(e) {
      var scriptFallback = document.createElement('script');
      scriptFallback.type = 'text/javascript';
      scriptFallback.onerror = function(error) {
              var Monorail = {
      produce: function produce(monorailDomain, schemaId, payload) {
        var currentMs = new Date().getTime();
        var event = {
          schema_id: schemaId,
          payload: payload,
          metadata: {
            event_created_at_ms: currentMs,
            event_sent_at_ms: currentMs
          }
        };
        return Monorail.sendRequest("https://" + monorailDomain + "/v1/produce", JSON.stringify(event));
      },
      sendRequest: function sendRequest(endpointUrl, payload) {
        // Try the sendBeacon API
        if (window && window.navigator && typeof window.navigator.sendBeacon === 'function' && typeof window.Blob === 'function' && !Monorail.isIos12()) {
          var blobData = new window.Blob([payload], {
            type: 'text/plain'
          });
    
          if (window.navigator.sendBeacon(endpointUrl, blobData)) {
            return true;
          } // sendBeacon was not successful
    
        } // XHR beacon   
    
        var xhr = new XMLHttpRequest();
    
        try {
          xhr.open('POST', endpointUrl);
          xhr.setRequestHeader('Content-Type', 'text/plain');
          xhr.send(payload);
        } catch (e) {
          console.log(e);
        }
    
        return false;
      },
      isIos12: function isIos12() {
        return window.navigator.userAgent.lastIndexOf('iPhone; CPU iPhone OS 12_') !== -1 || window.navigator.userAgent.lastIndexOf('iPad; CPU OS 12_') !== -1;
      }
    };
    MonorailV2.produce('monorail-edge.shopifysvc.com',
      'trekkie_checkout_load_errors/1.1',
      {shop_id: 56298733706,
      theme_id: 124363800714,
      app_name: "checkout",
      context_url: window.location.href,
      source_url: "https://cdn.shopify.com/s/trekkie.storefront.b31f2032c0d69b240cfbd23a96457e984a0bbbac.min.js"});

      };
      scriptFallback.async = true;
      scriptFallback.src = 'https://cdn.shopify.com/s/trekkie.storefront.b31f2032c0d69b240cfbd23a96457e984a0bbbac.min.js';
      first.parentNode.insertBefore(scriptFallback, first);
    };
    script.async = true;
    script.src = 'https://cdn.shopify.com/s/trekkie.storefront.b31f2032c0d69b240cfbd23a96457e984a0bbbac.min.js';
    first.parentNode.insertBefore(script, first);
  };
  trekkie.load(
    {"Trekkie":{"appName":"checkout","development":false,"defaultAttributes":{"shopId":56298733706,"isMerchantRequest":null,"themeId":124363800714,"themeCityHash":"2066275773428196244","contentLanguage":"en","currency":"CAD","checkoutToken":"93ac7219a87b0343e1a087e364cb6a6f"},"isServerSideCookieWritingEnabled":true,"enabledBetaFlags":["defaultToOrderId"],"monorailRegion":"shop_domain"},"Facebook Pixel":{"pixelIds":["833565017410832"],"agent":"plshopify1.2"},"Google Gtag Pixel":{"conversionId":"G-4G3H7S6WR9","eventLabels":[{"type":"begin_checkout","action_label":"G-4G3H7S6WR9"},{"type":"search","action_label":"G-4G3H7S6WR9"},{"type":"view_item","action_label":["G-4G3H7S6WR9","MC-W5TQV8YRTF"]},{"type":"purchase","action_label":["G-4G3H7S6WR9","MC-W5TQV8YRTF"]},{"type":"page_view","action_label":["G-4G3H7S6WR9","MC-W5TQV8YRTF"]},{"type":"add_payment_info","action_label":"G-4G3H7S6WR9"},{"type":"add_to_cart","action_label":"G-4G3H7S6WR9"}],"targetCountry":"CA","ignoreReferrer":true},"Session Attribution":{},"S2S":{"facebookCapiEnabled":true,"cartApiClientId":580111,"facebookAppPixelId":"833565017410832","source":"trekkie-checkout-classic"}}
  );

  var loaded = false;
  trekkie.ready(function() {
    if (loaded) return;
    loaded = true;

    window.ShopifyAnalytics.lib = window.trekkie;
    

    var originalDocumentWrite = document.write;
    document.write = customDocumentWrite;
    try { window.ShopifyAnalytics.merchantGoogleAnalytics.call(this); } catch(error) {};
    document.write = originalDocumentWrite;

    window.ShopifyAnalytics.lib.page("Checkout - Contact information",{"path":"\/checkout\/contact_information","search":"?_ga=2.29489023.1373442133.1690331031-1132292578.1687856426","url":"https:\/\/emma-sleep.ca\/56298733706\/checkouts\/93ac7219a87b0343e1a087e364cb6a6f?_ga=2.29489023.1373442133.1690331031-1132292578.1687856426"});

    var match = window.location.pathname.match(/checkouts\/(.+)\/(thank_you|post_purchase)/)
    var token = match? match[1]: undefined;
    if (!hasLoggedConversion(token)) {
      setCookieIfConversion(token);
      
    }
  });

  
      var eventsListenerScript = document.createElement('script');
      eventsListenerScript.async = true;
      eventsListenerScript.src = "//cdn.shopify.com/shopifycloud/shopify/assets/shop_events_listener-a7c63dba65ccddc484f77541dc8ca437e60e1e9e297fe1c3faebf6523a0ede9b.js";
      document.getElementsByTagName('head')[0].appendChild(eventsListenerScript);
    
})();</script><script id="web-pixels-manager-setup">(function e(e,a,n,r,t,o,i){var s=null!==e,l=function(){var e="unknown",a=null,n=navigator.userAgent,r=n.match(/(Firefox|Chrome)\/(\d+)/i),t=n.match(/(Edg)\/(\d+)/i),o=n.match(/(Version)\/(\d+)(.+)(Safari)\/(\d+)/i);o?(e="safari",a=parseInt(o[2],10)):t?(e="edge",a=parseInt(t[2],10)):r&&(e=r[1].toLocaleLowerCase(),a=parseInt(r[2],10));var i={chrome:60,firefox:55,safari:11,edge:80}[e];return void 0!==i&&null!==a&&i<=a?"modern":"legacy"}().substring(0,1),d=r.substring(0,1);if(s){window.Shopify=window.Shopify||{};var c=window.Shopify;c.analytics=c.analytics||{};var u=c.analytics;u.replayQueue=[],u.publish=function(e,a,n){u.replayQueue.push([e,a,n])};try{self.performance.mark("wpm:start")}catch(e){}}var p,f,h,m,v,y,w,g,b,_=[n,"/wpm","/",d,o,l,".js"].join("");f=(p={src:_,async:!0,onload:function(){if(e){var n=window.webPixelsManager.init(e);null==a||a(n);var r=window.Shopify.analytics;r.replayQueue.forEach((function(e){var a=e[0],r=e[1],t=e[2];n.publishCustomEvent(a,r,t)})),r.replayQueue=[],r.publish=n.publishCustomEvent,r.visitor=n.visitor}},onerror:function(){var a=(null==e?void 0:e.storefrontBaseUrl)?e.storefrontBaseUrl.replace(/\/$/,""):self.location.origin,n="".concat(a,"/.well-known/shopify/monorail/unstable/produce_batch"),r=JSON.stringify({metadata:{event_sent_at_ms:(new Date).getTime()},events:[{schema_id:"web_pixels_manager_load/2.0",payload:{version:t||"latest",page_url:self.location.href,status:"failed",error_msg:"".concat(_," has failed to load")},metadata:{event_created_at_ms:(new Date).getTime()}}]});try{if(self.navigator.sendBeacon.bind(self.navigator)(n,r))return!0}catch(e){}var o=new XMLHttpRequest;try{return o.open("POST",n,!0),o.setRequestHeader("Content-Type","text/plain"),o.send(r),!0}catch(e){console&&console.warn&&console.warn("[Web Pixels Manager] Got an unhandled error while logging a load error.")}return!1}}).src,h=p.async,m=void 0===h||h,v=p.onload,y=p.onerror,w=document.createElement("script"),g=document.head,b=document.body,w.async=m,w.src=f,v&&w.addEventListener("load",v),y&&w.addEventListener("error",y),g?g.appendChild(w):b?b.appendChild(w):console.error("Did not find a head or body element to append the script")})({shopId: 56298733706,storefrontBaseUrl: "https://emma-sleep.ca",cdnBaseUrl: "https://cdn.shopify.com",surface: "shopify",enabledBetaFlags: ["web_pixels_async_pixel_refactor","web_pixels_visitor_api"],webPixelsConfigList: [{"id":"shopify-app-pixel","idTmp":"shopify-app-pixel","configuration":"{}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"0567","apiClientId":"shopify-pixel","type":"APP"},{"id":"shopify-custom-pixel","idTmp":"shopify-custom-pixel","eventPayloadVersion":"v1","runtimeContext":"LAX","scriptVersion":"0567","apiClientId":"shopify-pixel","type":"CUSTOM"}],initData: {"cart":null,"checkout":{"attributes":[{"key":"lang","value":"en"},{"key":"Invoice Language","value":"en"}],"billingAddress":null,"currencyCode":"CAD","discountApplications":[],"email":null,"lineItems":[{"id":"1071aaeeaa50bb07f65f6ee11fcbe22e","quantity":5,"title":"Sleep Essential Bundle","variant":{"id":"43761312530570","image":{"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0562\/9873\/3706\/files\/EmmaCA-ThanksgivingBundle-02.jpg?v=1695398172"},"price":{"amount":599.0,"currencyCode":"CAD"},"product":{"id":"7781585420426","title":"Sleep Essential Bundle","untranslatedTitle":"Sleep Essential Bundle","url":"\/products\/sleep-essential-bundle","vendor":"Emma\u00ae Canada","type":""},"sku":"EBMP097191CAN","title":"Twin | 39\" x 75\"","untranslatedTitle":"Twin | 39\" x 75\""},"discountAllocations":[]}],"order":null,"phone":null,"shippingAddress":{"address1":null,"address2":null,"city":null,"country":"Vietnam","countryCode":"VN","firstName":null,"lastName":null,"phone":null,"province":null,"provinceCode":null,"zip":null},"shippingLine":{"price":{"amount":0.0,"currencyCode":"XXX"}},"subtotalPrice":{"amount":2995.0,"currencyCode":"CAD"},"token":"93ac7219a87b0343e1a087e364cb6a6f","totalPrice":{"amount":2995.0,"currencyCode":"CAD"},"totalTax":{"amount":0.0,"currencyCode":"CAD"}},"customer":null,"productVariants":null},},function pageEvents(webPixelsManagerAPI) {webPixelsManagerAPI.publish("page_viewed");},"https://cdn.shopify.com","browser","0.0.368","01fbfa7bwf128b223pbb0f9335m6d9cc028",["web_pixels_async_pixel_refactor","web_pixels_visitor_api"]);</script>

    <script type="text/javascript">
  var fc_JS=document.createElement('script');
  fc_JS.type='text/javascript';
  fc_JS.src='https://wchat.eu.freshchat.com/js/widget.js?t='+Date.now();
  (document.body?document.body:document.getElementsByTagName('head')[0]).appendChild(fc_JS);
  window.fcSettings = {
    token:'b2b2897c-9240-4bdd-a965-9f4381519c6e',
    host : 'https://wchat.eu.freshchat.com',
    locale: 'en',
    tags: ['ca'],
    faqTags: {
      filterType: 'article',
      tags: ['general', 'shop_ca', 'faq_ca']
    }
  };
</script>

    
<!-- <script type="text/javascript">

  function addItemToCart(variant_id, qty) {
    var data = {
      "id": variant_id,
      "quantity": qty
    };
    jQuery.ajax({
      type: 'POST',
      url: '/cart/add.js',
      data: data,
      dataType: 'json',
      success: function () {
        location.reload();
      }
    });
  };

  $(document).on('click', "#add-to-cart-button", function () {
    var variant_id = $(this).parents('.prod_item').find('.js-select2').val();
    var qty = "1";
    addItemToCart(variant_id, qty);
  });

  function remove_Dumplicate_Value(myArray) {
    var newArray = [];
    $.each(myArray, function (key, value) {
      var exists = false;
      $.each(newArray, function (k, val2) {
        if (value.id == val2.id) {
          exists = true;
        };
      });
      if (exists == false && value.id != "") {
        newArray.push(value);
      }
    });

    return newArray;
  };

  function getMultipleRandom(arr, num) {
    var shuffled = arr.sort(() => 0.5 - Math.random());
    return shuffled.slice(0, num);
  };

  function showUpsells(upsells) {
    $.each(upsells, function (u, e) {
      upsells[u] = remove_Dumplicate_Value(e);
    });
    var arr = Object.keys(upsells);
    var final_keys = getMultipleRandom(arr, 3);

    // ****************** upsell item html start ******************
    var html = "";
    var currency_format = document.getElementsByTagName('body');
    currency_format = currency_format[0].dataset.format;

    $.each(final_keys, function (final_k, final_v) {
      if (Object.keys(upsells[final_v]).length > 1) {
        let random_key = getMultipleRandom(Object.keys(upsells[final_v]), 1)[0];
        let single_upsells = upsells[final_v][random_key];
        upsells[final_v] = {};
        upsells[final_v][0] = single_upsells;
      }
      if ((upsells[final_v] != 'undefined' && upsells[final_v] != undefined && upsells[final_v] != null)) {
        $.each(upsells[final_v], function (html_k, html_v) {
          if ((typeof html_v != undefined) && (typeof html_v != 'undefined')) {
            var tag = html_v.tags[0];
            var img = html_v.images[0];
            var variant = html_v.variants[0];

            $(document).on('change', "select.product-form__variants", function () {
              var data_price = $(this).children("option:selected").data('price');
              var data_compare_price = $(this).children("option:selected").data('compare_price');
              $(this).parents(".prod_item ").find(".prod_sale_price").text(data_compare_price);
              $(this).parents(".prod_item ").find(".prod_price").text(data_price);
            });

            html += '<div class="prod_item">';
            if ((tag != 'undefined') && (tag != null) && (tag != undefined)) {
              html += '<div class="prod_tag"><p>' + tag + '</p></div>';
            }
            html += '<div class="prod_img">';
            html += '<div class="prod_img_inner">';
            if ((img != 'undefined') && (img != null) && (img != undefined)) {
              html += '<div class="backimg" style="background-image:url(' + img.src + ');">';
            }
            html += '<svg class="transparent_svg" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 101 76">';
            html += '<rect class="cls-1" x="0.5" y="0.5" width="100" height="75"></rect>';
            html += '</svg>';
            html += '</div>';
            html += '</div>';
            html += '</div>';
            html += '<div class="prod_info">';
            html += '<div class="prod_tt">';
            html += '<a href="/products/' + html_v.handle + '">' + html_v.title + '</a>';
            html += '</div>';

            html += '<div class="compare_pro_price">';
            html += '<div class="prod_price">$' + variant.price + '</div>';

            html += '<div class="prod_sale_price">$' + variant.compare_at_price + '</div>';

            html += '</div>';
            if ((variant != 'undefined') && (variant != null) && (variant != undefined)) {
              html += '<div class="prod_type">';
              if (variant.available) {
                html += '<select name="id" class="js-select2" id="ProductSelect-' + html_v.id + '"';
                if (variant.title == 'Default Title') {
                  html += ' style="display:none"';
                  html += ' data-default="" ';
                }
                html += ' class="product-form__variants no-js">';
                $.each(html_v.variants, function (var_key, var_val) {
                  if (var_val.available) {
                    html += '<option';
                    if (var_key == 0) {
                      html += ' selected="selected"';
                    }
                    html += ' data-price=" $' + var_val.price + ' " data-compare_price=" $' + var_val.compare_at_price + ' "   data-availability="true" value="' + var_val.id + '">' + var_val.title + '</option>';
                  }
                });
                html += '</select>';
              }
              html += '</div>'

            }
            html += '</div>';
            html += '<div class="add_prod">';
            html += '<div class="add_btn">';
            html += '<a href="javascript:void(0);" id="add-to-cart-button" class="btn btn--secondary btn--full marztop">';
            html += '<span class="icon icon-plus" aria-hidden="true"></span> ADD';
            html += '</a>';
            html += '</div>';
            html += '</div>';

            //      ============== addto cart end ==============`

            html += '</div>';
          }
        });
      }
    });
    document.getElementById('cart__drawer_items').innerHTML = '';
    document.getElementById('cart__drawer_items').insertAdjacentHTML('beforeend', html);
    jQuery(".js-select2").select2();
  };
  jQuery(document).ready(function () {
    jQuery.getJSON('/cart.js', function (cart) {
      let items = cart.items;
      if (cart.items.length > 0) {
        jQuery.getJSON('https://emma-sleep.ca/products.json', function (product) {

          // Static UPSELL items Object
          var upsell_pro = {
            "mattress": ['protector', 'pillow', 'topper'],
            "pillow": ['mattress', 'topper', 'protector'],
            "protector": ['mattress', 'pillow', 'topper'],
            "topper": ['mattress', 'pillow', 'protector'],
            "bed-frame-with-mattress": ['protector', 'pillow', 'topper'],
            "bed-frame-without-mattress": ['mattress', 'protector', 'pillow']
          }

          var upsell_results = {};

          // This is the cart items loop
          $(cart.items).each(function (i, c_item) {
            var cart_pro_type = (c_item.product_type).toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/-$/, '').replace(/^-/, '');

            // got the same type from upsell object
            if ((typeof upsell_pro[cart_pro_type] != undefined) && (typeof upsell_pro[cart_pro_type] != 'undefined') && (upsell_pro[cart_pro_type].length > 0)) {
              var upsell_type = upsell_pro[cart_pro_type];

              // each loop of current cart product type from upsell object
              $(upsell_type).each(function (k, upsell_type) {

                if ((typeof upsell_type != 'undefined') && (typeof upsell_type != undefined) && (typeof upsell_type != null)) {

                  // find products which match upsell types
                  $(product['products']).each(function (p, e) {
                    var protype_data = (e.product_type).toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/-$/, '').replace(/^-/, '');

                    // match the type of product with the upsell type
                    if (upsell_type == protype_data) {
                      if ((typeof upsell_results[protype_data] != undefined) && (typeof upsell_results[protype_data] != 'undefined') && (upsell_results[protype_data] != null)) {
                        upsell_results[protype_data].push(e);
                      } else {
                        upsell_results[protype_data] = [e];
                      }
                    }
                  });
                }
              });
            }
          });
          if ((typeof upsell_results != undefined) && (typeof upsell_results != 'undefined') && (upsell_results != null)) {

            showUpsells(upsell_results);
            //      console.log(upsell_results);
          }
        });
      }
    });

  });
</script> -->


    <script type="module">
      (function ($) {
        // triggered on initial load
        $(document).on('page:load', function () {
          updateUIDynamically();
        });

        // triggered after interact with page (apply promo code, etc.)
        $(document).on('page:change', function () {
          updateUIDynamically();
        });
      })(Checkout.$);

      function updateUIDynamically() {
        if (Shopify.Checkout.step === 'contact_information') {
          const button$ = $('.step__footer__continue-btn .btn__content');
          const buttonText = button$.html();
          const arrowIcon = `
            <svg style="margin-top: 1px; margin-left: 6px;" width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.66797 10.5H16.3346" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10.5 4.66699L16.3333 10.5003L10.5 16.3337" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          `;
          button$.html(
            `<span style="display: flex; align-items: center;justify-content: center;">${buttonText}${arrowIcon}</span>`
          );
        }

        if (Shopify.Checkout.step === 'payment_method' || Shopify.Checkout.step === 'shipping_method') {
          const links$ = $('.step__footer__previous-link');
          if (links$ && links$.length === 1) {
            links$.insertBefore('.step__footer');
            links$.addClass('checkout-return-button');
          }
        }

        if (Shopify.Checkout.step === 'payment_method') {
          $('.display-table .radio__input, .display-table .checkbox__input').css('float', 'left');
          $('.section.section--payment-method .section__header').css('position', 'relative');
          $('.section.section--payment-method .section__header').append(`
            <div class="digicert-logo-payment">
              <img src="//emma-sleep.ca/cdn/shop/t/11/assets/digicert.png?v=102227059192277823701659427784" itemprop="logo" />
            </div>
          `);
        }
      }

      removeRefundPolicy();
      renderDigicertLogo();
      renderAdditionalSidebarContent();

      function removeRefundPolicy() {
        document.querySelector('[data-modal="policy-refund-policy"]').closest('.policy-list__item').remove();
      }

      function renderDigicertLogo() {
        if (Shopify.Checkout.step === 'contact_information' || Shopify.Checkout.step === 'shipping_method') {
          document
            .querySelector('.main__footer .policy-list')
            .insertAdjacentHTML(
              'beforeend',
              `<li class="digicert-logo"><img src="//emma-sleep.ca/cdn/shop/t/11/assets/digicert.png?v=102227059192277823701659427784" itemprop="logo" /></li>`
            );
        }
      }

      function renderAdditionalSidebarContent() {
        // Sidebar content generated by Shopify is stored within an accordion
        // Inject additional content with JS to make it also stored within accordion
        const SidebarOrnament = `
          <div class="sidebar-ornament">
            <div class="sidebar-ornament__content">
              <h4 class="sidebar-ornament__title">Shop with ease,<br />
Emma has guarantees</h4>
              <p class="sidebar-ornament__subtitle"><img src="//emma-sleep.ca/cdn/shop/t/11/assets/truck-free.svg?v=62757502528004441651660640522" alt="truck-free.svg"> Products ship out within 1 business day and<br />
arrive within 3 to 5 days.</p>
              <div class="sidebar-ornament__benefits">
                <div class="sidebar-ornament__benefit">
                  <img src="//emma-sleep.ca/cdn/shop/t/11/assets/365-moon.svg?v=150191217848030414291660640516" alt="365-moon.svg">
                  <p>365-Night,<br />
Risk free trial</p>
                </div>
                <div class="sidebar-ornament__benefit">
                  <img src="//emma-sleep.ca/cdn/shop/t/11/assets/warranty.svg?v=108207922373198805161660640523" alt="warranty.svg">
                  <p>10-Year,<br />
Warranty</p>
                </div>
                <div class="sidebar-ornament__benefit">
                  <img src="//emma-sleep.ca/cdn/shop/t/11/assets/truck-free.svg?v=62757502528004441651660640522" alt="truck-free.svg">
                  <p>Free Shipping,<br />
&amp; Returns</p>
                </div>
              </div>
            </div>
            <div class="sidebar-ornament__footer">
              <div class="sidebar-ornament__support-avatar">
                <div class="sidebar-ornament__support-avatar-status"></div>
                <img class="sidebar-ornament__support-avatar-image"
                     src="//emma-sleep.ca/cdn/shop/t/11/assets/checkout-support-avatar.png?v=45412621503808174841666688389"/>
              </div>
              <div class="sidebar-ornament__support">
                <div class="sidebar-ornament__support-wrapper">
                  <div class="sidebar-ornament__support-heading">Need help?</div>
                  <div class="sidebar-ornament__support-info">
                    <button onclick="openChatSupport()" id="sidebar-ornament__support-chat" class="sidebar-ornament__support-chat">
                      <div>
                        <svg width="9" height="10" viewBox="0 0 9 10" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M8.25 6.25C8.25 6.47101 8.1622 6.68298 8.00592 6.83926C7.84964 6.99554 7.63768 7.08333 7.41667 7.08333H2.41667L0.75 8.75V2.08333C0.75 1.86232 0.837797 1.65036 0.994078 1.49408C1.15036 1.3378 1.36232 1.25 1.58333 1.25H7.41667C7.63768 1.25 7.84964 1.3378 8.00592 1.49408C8.1622 1.65036 8.25 1.86232 8.25 2.08333V6.25Z"
                            stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </div>
                      <p class="sidebar-ornament__support-info-text">Chat now</p>
                    </button>
                    <a href="tel:+18885853662" class="sidebar-ornament__support-chat">
                      <div>
                        <svg width="9" height="10" viewBox="0 0 9 10" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M7.59846 5.41641C7.50679 5.41641 7.41096 5.38724 7.31929 5.36641C7.13366 5.3255 6.95123 5.27119 6.77345 5.20391C6.58016 5.13359 6.36768 5.13724 6.17692 5.21416C5.98615 5.29108 5.83057 5.43584 5.74012 5.62057L5.64846 5.80807C5.24262 5.58232 4.8697 5.30192 4.54012 4.97474C4.21294 4.64517 3.93255 4.27224 3.70679 3.86641L3.88179 3.74974C4.06652 3.65929 4.21128 3.50371 4.2882 3.31295C4.36512 3.12218 4.36878 2.90971 4.29846 2.71641C4.2323 2.53825 4.17801 2.35591 4.13596 2.17058C4.11512 2.07891 4.09846 1.98308 4.08596 1.88724C4.03536 1.59375 3.88163 1.32797 3.65246 1.13776C3.4233 0.947549 3.13374 0.845412 2.83596 0.849742H1.58596C1.40638 0.848056 1.22856 0.885081 1.06458 0.958296C0.900609 1.03151 0.754334 1.1392 0.635718 1.27403C0.517101 1.40885 0.428928 1.56766 0.3772 1.73962C0.325472 1.91159 0.311405 2.09268 0.335955 2.27057C0.557929 4.01615 1.35513 5.63802 2.60164 6.88001C3.84815 8.12199 5.47292 8.91329 7.21929 9.12891H7.37762C7.68488 9.12936 7.98154 9.01663 8.21096 8.81224C8.34277 8.69434 8.44807 8.54982 8.5199 8.38821C8.59173 8.2266 8.62844 8.05159 8.62762 7.87474V6.62474C8.62252 6.33532 8.51712 6.05664 8.32943 5.83627C8.14174 5.6159 7.88338 5.4675 7.59846 5.41641ZM7.80679 7.91641C7.80671 7.97557 7.79404 8.03404 7.76961 8.08792C7.74519 8.1418 7.70957 8.18986 7.66512 8.22891C7.61856 8.26911 7.56412 8.29914 7.50529 8.31707C7.44645 8.33501 7.38452 8.34046 7.32346 8.33308C5.763 8.13299 4.31355 7.41911 3.20375 6.30403C2.09395 5.18895 1.38696 3.73613 1.19429 2.17474C1.18766 2.11371 1.19347 2.05196 1.21137 1.99324C1.22928 1.93451 1.2589 1.88003 1.29846 1.83308C1.3375 1.78863 1.38556 1.75301 1.43945 1.72858C1.49333 1.70416 1.55179 1.69148 1.61096 1.69141H2.86095C2.95785 1.68925 3.05246 1.72094 3.12852 1.78102C3.20457 1.8411 3.25729 1.92581 3.27762 2.02057C3.29429 2.13446 3.31512 2.24696 3.34012 2.35807C3.38825 2.57772 3.45231 2.79357 3.53179 3.00391L2.94845 3.27474C2.89858 3.29763 2.85371 3.33014 2.81644 3.37041C2.77916 3.41068 2.75021 3.45791 2.73123 3.50941C2.71226 3.5609 2.70365 3.61563 2.70589 3.67046C2.70813 3.72529 2.72118 3.77914 2.74429 3.82891C3.34396 5.11339 4.37647 6.14591 5.66095 6.74558C5.7624 6.78725 5.87618 6.78725 5.97762 6.74558C6.02959 6.72699 6.07734 6.69826 6.11811 6.66107C6.15888 6.62388 6.19186 6.57895 6.21512 6.52891L6.47345 5.94558C6.68886 6.02261 6.9087 6.08661 7.13179 6.13724C7.2429 6.16224 7.3554 6.18308 7.46929 6.19974C7.56405 6.22007 7.64876 6.2728 7.70884 6.34885C7.76892 6.4249 7.80061 6.51951 7.79846 6.61641L7.80679 7.91641Z"
                            fill="white"/>
                        </svg>
                      </div>
                      <p class="sidebar-ornament__support-info-text">1 (888) 585 EMMA</p>
                    </a>
                  </div>
                </div>
                <p class="sidebar-ornament__support-subheading">Live support available from 08:00 to 18:00 GMT-6, Mondays-Fridays</p>
              </div>
            </div>
          </div>
        `;

        const SidebarBanner = `
          <div class="sidebar-banner">
            <div>
              <svg class="sidebar-banner__icon" width="29" height="24" viewBox="0 0 29 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_4254_24302)">
                  <path d="M25.0273 21.7664C24.8553 22.4116 24.4939 22.9211 23.9994 23.3465C22.7427 24.4293 20.0601 24.268 19.2537 22.0877C19.1607 21.8363 19.0503 21.7583 18.7853 21.759C16.1328 21.7704 13.4802 21.7657 10.8277 21.7657C10.728 21.7657 10.6283 21.7657 10.5352 21.7657C9.8701 23.5825 8.62613 24.102 7.06297 23.9642C6.02175 23.8728 5.00329 22.9923 4.6212 21.7657C4.51413 21.7657 4.39502 21.7657 4.27524 21.7657C3.53917 21.763 2.80309 21.7489 2.06701 21.7597C1.12818 21.7731 0.0903136 20.7421 0.100351 19.6922C0.137824 15.7503 0.136486 11.8063 0.0996819 7.86362C0.0903136 6.89039 0.989666 5.75989 2.17676 5.74914C2.62175 5.7451 3.06607 5.74914 3.55456 5.74914C3.53984 3.76706 4.36893 2.2185 5.90933 1.047C7.1339 0.116114 8.54583 -0.0895546 10.028 0.0314267C12.4738 0.230374 15.0895 2.53171 15.0461 5.74847C15.4556 5.74847 15.8651 5.74847 16.2753 5.74847C17.7187 5.74847 18.5016 6.52409 18.5244 7.97519C18.5257 8.05114 18.531 8.12709 18.5364 8.2353H18.9165C20.6115 8.2353 22.3071 8.24135 24.0021 8.22858C24.2651 8.22657 24.4391 8.30924 24.5977 8.5102C25.9842 10.2624 27.378 12.0086 28.7612 13.7635C28.8415 13.8656 28.889 14.0229 28.8896 14.1553C28.897 16.5528 28.8917 18.9495 28.8997 21.347C28.901 21.675 28.7665 21.7738 28.458 21.7711C27.3211 21.7603 26.1842 21.7671 25.0273 21.7671V21.7664ZM16.8494 20.0995C16.8494 19.951 16.8494 19.8199 16.8494 19.6889C16.8494 16.0487 16.8494 12.4085 16.8494 8.76829C16.8494 8.5559 16.8662 8.34284 16.8575 8.13045C16.8374 7.65123 16.6213 7.43615 16.1522 7.42674C15.7841 7.41935 15.4154 7.41129 15.0487 7.43414C14.9524 7.44019 14.8246 7.54033 14.7764 7.63174C14.5837 7.99469 14.4472 8.38989 14.235 8.73939C12.9502 10.8633 11.3215 12.7163 9.66466 14.5458C9.45187 14.7804 9.10257 14.7696 8.88375 14.5196C8.10351 13.6297 7.31189 12.7479 6.5611 11.8332C5.641 10.7127 4.74633 9.56946 4.07316 8.27294C3.92862 7.99468 3.86371 7.59343 3.6382 7.45968C3.39731 7.31719 3.00986 7.42338 2.68666 7.42473C2.01147 7.42742 1.77526 7.65661 1.77459 8.32806C1.77258 11.9568 1.77258 15.5863 1.77459 19.215C1.77459 19.8656 2.01482 20.1096 2.65989 20.1177C3.20593 20.1244 3.7533 20.1089 4.29933 20.1244C4.52886 20.1305 4.6386 20.0693 4.72827 19.8354C5.55267 17.692 8.03057 17.53 9.31269 18.4347C9.90489 18.8528 10.3077 19.4126 10.5118 20.0989H16.8494V20.0995ZM27.2188 15.1527H26.8828C24.8312 15.1527 22.7789 15.1494 20.7272 15.1568C20.4301 15.1581 20.2929 15.058 20.3083 14.7488C20.3224 14.4692 20.3103 14.1889 20.3123 13.9087C20.315 13.5134 20.3558 13.4731 20.7627 13.4731C22.4691 13.4731 24.1747 13.4731 25.8811 13.4731C25.9962 13.4731 26.1113 13.4731 26.2893 13.4731C25.3431 12.2828 24.4511 11.1536 23.5451 10.0359C23.4788 9.95391 23.3149 9.91762 23.1958 9.91694C21.7464 9.90888 20.2963 9.91157 18.8469 9.91291C18.7505 9.91291 18.6542 9.92568 18.5511 9.93307V20.0861C18.9053 20.1331 19.1507 20.0007 19.2872 19.6889C19.5234 19.1505 19.9048 18.7271 20.3813 18.4045C21.6734 17.5307 24.1353 17.7028 24.9496 19.8791C24.9831 19.9685 25.0708 20.1036 25.1357 20.1049C25.8236 20.1217 26.5121 20.115 27.2188 20.115V15.1527ZM9.28391 12.3211C9.7985 11.7007 10.2964 11.1557 10.7313 10.5635C11.4694 9.5587 12.2155 8.55456 12.8666 7.49328C13.3477 6.70825 13.4762 5.8103 13.232 4.88345C12.6458 2.66008 10.8096 1.65594 9.26651 1.69492C6.25663 1.7702 4.12937 5.09113 5.87253 7.80313C6.41455 8.64597 7.0014 9.46125 7.60365 10.2617C8.12559 10.9547 8.6984 11.608 9.28324 12.3211H9.28391ZM22.085 22.2906C22.7186 22.288 23.3958 21.6279 23.4039 21.0049C23.4126 20.3475 22.7287 19.6526 22.0763 19.6546C21.4205 19.6566 20.7493 20.3496 20.762 21.0123C20.7741 21.642 21.4479 22.2933 22.085 22.2906ZM7.56149 22.2906C8.1972 22.2947 8.87037 21.6447 8.88375 21.0143C8.89781 20.3536 8.22597 19.6586 7.56952 19.6539C6.90705 19.6492 6.2486 20.3247 6.25529 21.0022C6.26131 21.6387 6.91776 22.2866 7.56149 22.2906Z" fill="white"/>
                  <path d="M9.31318 3.71442C10.333 3.57597 11.3963 4.56465 11.3448 5.77648C11.2919 7.01318 10.519 7.79351 9.27839 7.8298C8.20305 7.86139 7.22607 6.96613 7.22072 5.75766C7.21604 4.61305 8.19234 3.56521 9.31318 3.71442ZM9.29311 5.26836C9.13452 5.49755 8.97191 5.62996 8.97191 5.76237C8.97191 5.87528 9.174 6.08767 9.26233 6.07557C9.39415 6.05743 9.58553 5.89209 9.60159 5.76909C9.61765 5.64744 9.44702 5.50226 9.29311 5.26769V5.26836Z" fill="white"/>
                </g>
                <defs>
                  <clipPath id="clip0_4254_24302">
                    <rect width="28.8" height="24" fill="white" transform="translate(0.0996094)"/>
                  </clipPath>
                </defs>
              </svg>
            </div>
            <p class="sidebar-banner__text">Orders arrive within 3-7 business days</p>
          </div>
        `;

        const orderSummaryEl = document.getElementById('order-summary');
        orderSummaryEl.insertAdjacentHTML('afterbegin', SidebarBanner);
        orderSummaryEl.insertAdjacentHTML('beforeend', SidebarOrnament);
      }
    </script>
  </body>
</html>
